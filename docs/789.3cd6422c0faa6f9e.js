(self.webpackChunkproject_x=self.webpackChunkproject_x||[]).push([[789],{5668:function(Je){Je.exports=function(){"use strict";function Se(m,t){var s=Object.keys(m);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(m);t&&(r=r.filter(function(T){return Object.getOwnPropertyDescriptor(m,T).enumerable})),s.push.apply(s,r)}return s}function lt(m){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(s),!0).forEach(function(r){oe(m,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(s)):Se(Object(s)).forEach(function(r){Object.defineProperty(m,r,Object.getOwnPropertyDescriptor(s,r))})}return m}function Gt(m){return(Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(m)}function Vt(m,t){for(var s=0;s<t.length;s++){var r=t[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(m,ut(r.key),r)}}function oe(m,t,s){return(t=ut(t))in m?Object.defineProperty(m,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):m[t]=s,m}function Re(m){return function we(m){if(Array.isArray(m))return Et(m)}(m)||function ee(m){if(typeof Symbol<"u"&&null!=m[Symbol.iterator]||null!=m["@@iterator"])return Array.from(m)}(m)||function Me(m,t){if(m){if("string"==typeof m)return Et(m,t);var s=Object.prototype.toString.call(m).slice(8,-1);if("Object"===s&&m.constructor&&(s=m.constructor.name),"Map"===s||"Set"===s)return Array.from(m);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Et(m,t)}}(m)||function He(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Et(m,t){(null==t||t>m.length)&&(t=m.length);for(var s=0,r=new Array(t);s<t;s++)r[s]=m[s];return r}function ut(m){var t=function Ut(m,t){if("object"!=typeof m||null===m)return m;var s=m[Symbol.toPrimitive];if(void 0!==s){var r=s.call(m,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(m)}(m,"string");return"symbol"==typeof t?t:String(t)}var Rt=typeof window<"u"&&typeof window.document<"u",Pt=Rt?window:{},Qt=!(!Rt||!Pt.document.documentElement)&&"ontouchstart"in Pt.document.documentElement,ue=!!Rt&&"PointerEvent"in Pt,mt="cropper",Kt="n",ie="ne",xt="nw",Ht="se",$t="sw",ge="".concat(mt,"-crop"),xe="".concat(mt,"-disabled"),Ot="".concat(mt,"-hidden"),Te="".concat(mt,"-hide"),Ye="".concat(mt,"-invisible"),me="".concat(mt,"-modal"),Nt="".concat(mt,"-move"),vt="".concat(mt,"Action"),Ee="".concat(mt,"Preview"),fe="crop",Ie="crop",Fe="cropend",Be="cropmove",ve="cropstart",Qe="dblclick",je=ue?"pointerdown":Qt?"touchstart":"mousedown",We=ue?"pointermove":Qt?"touchmove":"mousemove",Ze=ue?"pointerup pointercancel":Qt?"touchend touchcancel":"mouseup",W="ready",Z="resize",K="wheel",v="zoom",e="image/jpeg",i=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,C=/^data:/,g=/^data:image\/jpeg;base64,/,E=/^img|canvas$/i,c={viewMode:0,dragMode:fe,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},p=Number.isNaN||Pt.isNaN;function _(m){return"number"==typeof m&&!p(m)}var I=function(t){return t>0&&t<1/0};function H(m){return typeof m>"u"}function O(m){return"object"===Gt(m)&&null!==m}var tt=Object.prototype.hasOwnProperty;function X(m){if(!O(m))return!1;try{var t=m.constructor,s=t.prototype;return t&&s&&tt.call(s,"isPrototypeOf")}catch{return!1}}function B(m){return"function"==typeof m}var q=Array.prototype.slice;function M(m){return Array.from?Array.from(m):q.call(m)}function U(m,t){return m&&B(t)&&(Array.isArray(m)||_(m.length)?M(m).forEach(function(s,r){t.call(m,s,r,m)}):O(m)&&Object.keys(m).forEach(function(s){t.call(m,m[s],s,m)})),m}var f=Object.assign||function(t){for(var s=arguments.length,r=new Array(s>1?s-1:0),T=1;T<s;T++)r[T-1]=arguments[T];return O(t)&&r.length>0&&r.forEach(function(z){O(z)&&Object.keys(z).forEach(function(x){t[x]=z[x]})}),t},b=/\.\d*(?:0|9){12}\d*$/;function D(m){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return b.test(m)?Math.round(m*t)/t:m}var R=/^width|height|left|top|marginLeft|marginTop$/;function k(m,t){var s=m.style;U(t,function(r,T){R.test(T)&&_(r)&&(r="".concat(r,"px")),s[T]=r})}function w(m,t){if(t){if(_(m.length))return void U(m,function(r){w(r,t)});if(m.classList)return void m.classList.add(t);var s=m.className.trim();s?s.indexOf(t)<0&&(m.className="".concat(s," ").concat(t)):m.className=t}}function F(m,t){if(t){if(_(m.length))return void U(m,function(s){F(s,t)});if(m.classList)return void m.classList.remove(t);m.className.indexOf(t)>=0&&(m.className=m.className.replace(t,""))}}function y(m,t,s){if(t){if(_(m.length))return void U(m,function(r){y(r,t,s)});s?w(m,t):F(m,t)}}var d=/([a-z\d])([A-Z])/g;function V(m){return m.replace(d,"$1-$2").toLowerCase()}function L(m,t){return O(m[t])?m[t]:m.dataset?m.dataset[t]:m.getAttribute("data-".concat(V(t)))}function J(m,t,s){O(s)?m[t]=s:m.dataset?m.dataset[t]=s:m.setAttribute("data-".concat(V(t)),s)}var P=/\s\s*/,n=function(){var m=!1;if(Rt){var t=!1,s=function(){},r=Object.defineProperty({},"once",{get:function(){return m=!0,t},set:function(z){t=z}});Pt.addEventListener("test",s,r),Pt.removeEventListener("test",s,r)}return m}();function h(m,t,s){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},T=s;t.trim().split(P).forEach(function(z){if(!n){var x=m.listeners;x&&x[z]&&x[z][s]&&(T=x[z][s],delete x[z][s],0===Object.keys(x[z]).length&&delete x[z],0===Object.keys(x).length&&delete m.listeners)}m.removeEventListener(z,T,r)})}function u(m,t,s){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},T=s;t.trim().split(P).forEach(function(z){if(r.once&&!n){var x=m.listeners,Y=void 0===x?{}:x;T=function(){delete Y[z][s],m.removeEventListener(z,T,r);for(var G=arguments.length,Q=new Array(G),j=0;j<G;j++)Q[j]=arguments[j];s.apply(m,Q)},Y[z]||(Y[z]={}),Y[z][s]&&m.removeEventListener(z,Y[z][s],r),Y[z][s]=T,m.listeners=Y}m.addEventListener(z,T,r)})}function $(m,t,s){var r;return B(Event)&&B(CustomEvent)?r=new CustomEvent(t,{detail:s,bubbles:!0,cancelable:!0}):(r=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,s),m.dispatchEvent(r)}function rt(m){var t=m.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}var at=Pt.location,ot=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function ht(m){var t=m.match(ot);return null!==t&&(t[1]!==at.protocol||t[2]!==at.hostname||t[3]!==at.port)}function ft(m){var t="timestamp=".concat((new Date).getTime());return m+(-1===m.indexOf("?")?"?":"&")+t}function dt(m){var t=m.rotate,s=m.scaleX,r=m.scaleY,T=m.translateX,z=m.translateY,x=[];_(T)&&0!==T&&x.push("translateX(".concat(T,"px)")),_(z)&&0!==z&&x.push("translateY(".concat(z,"px)")),_(t)&&0!==t&&x.push("rotate(".concat(t,"deg)")),_(s)&&1!==s&&x.push("scaleX(".concat(s,")")),_(r)&&1!==r&&x.push("scaleY(".concat(r,")"));var Y=x.length?x.join(" "):"none";return{WebkitTransform:Y,msTransform:Y,transform:Y}}function jt(m,t){var s=m.pageX,r=m.pageY,T={endX:s,endY:r};return t?T:lt({startX:s,startY:r},T)}function _t(m){var t=m.aspectRatio,s=m.height,r=m.width,T=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",z=I(r),x=I(s);if(z&&x){var Y=s*t;"contain"===T&&Y>r||"cover"===T&&Y<r?s=r/t:r=s*t}else z?s=r/t:x&&(r=s*t);return{width:r,height:s}}var Tt=String.fromCharCode;var zt=/^data:.*,/;function bt(m){var s,t=new DataView(m);try{var r,T,z;if(255===t.getUint8(0)&&216===t.getUint8(1))for(var x=t.byteLength,Y=2;Y+1<x;){if(255===t.getUint8(Y)&&225===t.getUint8(Y+1)){T=Y;break}Y+=1}if(T){var G=T+10;if("Exif"===function It(m,t,s){var r="";s+=t;for(var T=t;T<s;T+=1)r+=Tt(m.getUint8(T));return r}(t,T+4,4)){var Q=t.getUint16(G);if(((r=18761===Q)||19789===Q)&&42===t.getUint16(G+2,r)){var j=t.getUint32(G+4,r);j>=8&&(z=G+j)}}}if(z){var ct,st,nt=t.getUint16(z,r);for(st=0;st<nt;st+=1)if(274===t.getUint16(ct=z+12*st+2,r)){s=t.getUint16(ct+=8,r),t.setUint16(ct,1,r);break}}}catch{s=1}return s}var se={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.element,s=this.options,r=this.container,T=this.cropper,z=Number(s.minContainerWidth),x=Number(s.minContainerHeight);w(T,Ot),F(t,Ot);var Y={width:Math.max(r.offsetWidth,z>=0?z:200),height:Math.max(r.offsetHeight,x>=0?x:100)};this.containerData=Y,k(T,{width:Y.width,height:Y.height}),w(t,Ot),F(T,Ot)},initCanvas:function(){var t=this.containerData,s=this.imageData,r=this.options.viewMode,T=Math.abs(s.rotate)%180==90,z=T?s.naturalHeight:s.naturalWidth,x=T?s.naturalWidth:s.naturalHeight,Y=z/x,et=t.width,G=t.height;t.height*Y>t.width?3===r?et=t.height*Y:G=t.width/Y:3===r?G=t.width/Y:et=t.height*Y;var Q={aspectRatio:Y,naturalWidth:z,naturalHeight:x,width:et,height:G};this.canvasData=Q,this.limited=1===r||2===r,this.limitCanvas(!0,!0),Q.width=Math.min(Math.max(Q.width,Q.minWidth),Q.maxWidth),Q.height=Math.min(Math.max(Q.height,Q.minHeight),Q.maxHeight),Q.left=(t.width-Q.width)/2,Q.top=(t.height-Q.height)/2,Q.oldLeft=Q.left,Q.oldTop=Q.top,this.initialCanvasData=f({},Q)},limitCanvas:function(t,s){var r=this.options,T=this.containerData,z=this.canvasData,x=this.cropBoxData,Y=r.viewMode,et=z.aspectRatio,G=this.cropped&&x;if(t){var Q=Number(r.minCanvasWidth)||0,j=Number(r.minCanvasHeight)||0;Y>1?(Q=Math.max(Q,T.width),j=Math.max(j,T.height),3===Y&&(j*et>Q?Q=j*et:j=Q/et)):Y>0&&(Q?Q=Math.max(Q,G?x.width:0):j?j=Math.max(j,G?x.height:0):G&&((j=x.height)*et>(Q=x.width)?Q=j*et:j=Q/et));var nt=_t({aspectRatio:et,width:Q,height:j});j=nt.height,z.minWidth=Q=nt.width,z.minHeight=j,z.maxWidth=1/0,z.maxHeight=1/0}if(s)if(Y>(G?0:1)){var ct=T.width-z.width,st=T.height-z.height;z.minLeft=Math.min(0,ct),z.minTop=Math.min(0,st),z.maxLeft=Math.max(0,ct),z.maxTop=Math.max(0,st),G&&this.limited&&(z.minLeft=Math.min(x.left,x.left+(x.width-z.width)),z.minTop=Math.min(x.top,x.top+(x.height-z.height)),z.maxLeft=x.left,z.maxTop=x.top,2===Y&&(z.width>=T.width&&(z.minLeft=Math.min(0,ct),z.maxLeft=Math.max(0,ct)),z.height>=T.height&&(z.minTop=Math.min(0,st),z.maxTop=Math.max(0,st))))}else z.minLeft=-z.width,z.minTop=-z.height,z.maxLeft=T.width,z.maxTop=T.height},renderCanvas:function(t,s){var r=this.canvasData,T=this.imageData;if(s){var z=function Ct(m){var t=m.width,s=m.height,r=m.degree;if(90==(r=Math.abs(r)%180))return{width:s,height:t};var T=r%90*Math.PI/180,z=Math.sin(T),x=Math.cos(T),Y=t*x+s*z,et=t*z+s*x;return r>90?{width:et,height:Y}:{width:Y,height:et}}({width:T.naturalWidth*Math.abs(T.scaleX||1),height:T.naturalHeight*Math.abs(T.scaleY||1),degree:T.rotate||0}),x=z.width,Y=z.height,et=r.width*(x/r.naturalWidth),G=r.height*(Y/r.naturalHeight);r.left-=(et-r.width)/2,r.top-=(G-r.height)/2,r.width=et,r.height=G,r.aspectRatio=x/Y,r.naturalWidth=x,r.naturalHeight=Y,this.limitCanvas(!0,!1)}(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCanvas(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,k(this.canvas,f({width:r.width,height:r.height},dt({translateX:r.left,translateY:r.top}))),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(t){var s=this.canvasData,r=this.imageData,T=r.naturalWidth*(s.width/s.naturalWidth),z=r.naturalHeight*(s.height/s.naturalHeight);f(r,{width:T,height:z,left:(s.width-T)/2,top:(s.height-z)/2}),k(this.image,f({width:r.width,height:r.height},dt(f({translateX:r.left,translateY:r.top},r)))),t&&this.output()},initCropBox:function(){var t=this.options,s=this.canvasData,r=t.aspectRatio||t.initialAspectRatio,T=Number(t.autoCropArea)||.8,z={width:s.width,height:s.height};r&&(s.height*r>s.width?z.height=z.width/r:z.width=z.height*r),this.cropBoxData=z,this.limitCropBox(!0,!0),z.width=Math.min(Math.max(z.width,z.minWidth),z.maxWidth),z.height=Math.min(Math.max(z.height,z.minHeight),z.maxHeight),z.width=Math.max(z.minWidth,z.width*T),z.height=Math.max(z.minHeight,z.height*T),z.left=s.left+(s.width-z.width)/2,z.top=s.top+(s.height-z.height)/2,z.oldLeft=z.left,z.oldTop=z.top,this.initialCropBoxData=f({},z)},limitCropBox:function(t,s){var r=this.options,T=this.containerData,z=this.canvasData,x=this.cropBoxData,Y=this.limited,et=r.aspectRatio;if(t){var G=Number(r.minCropBoxWidth)||0,Q=Number(r.minCropBoxHeight)||0,j=Y?Math.min(T.width,z.width,z.width+z.left,T.width-z.left):T.width,nt=Y?Math.min(T.height,z.height,z.height+z.top,T.height-z.top):T.height;G=Math.min(G,T.width),Q=Math.min(Q,T.height),et&&(G&&Q?Q*et>G?Q=G/et:G=Q*et:G?Q=G/et:Q&&(G=Q*et),nt*et>j?nt=j/et:j=nt*et),x.minWidth=Math.min(G,j),x.minHeight=Math.min(Q,nt),x.maxWidth=j,x.maxHeight=nt}s&&(Y?(x.minLeft=Math.max(0,z.left),x.minTop=Math.max(0,z.top),x.maxLeft=Math.min(T.width,z.left+z.width)-x.width,x.maxTop=Math.min(T.height,z.top+z.height)-x.height):(x.minLeft=0,x.minTop=0,x.maxLeft=T.width-x.width,x.maxTop=T.height-x.height))},renderCropBox:function(){var t=this.options,s=this.containerData,r=this.cropBoxData;(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCropBox(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,t.movable&&t.cropBoxMovable&&J(this.face,vt,r.width>=s.width&&r.height>=s.height?"move":"all"),k(this.cropBox,f({width:r.width,height:r.height},dt({translateX:r.left,translateY:r.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),$(this.element,Ie,this.getData())}},Oe={initPreview:function(){var t=this.element,s=this.crossOrigin,r=this.options.preview,T=s?this.crossOriginUrl:this.url,z=t.alt||"The image to preview",x=document.createElement("img");if(s&&(x.crossOrigin=s),x.src=T,x.alt=z,this.viewBox.appendChild(x),this.viewBoxImage=x,r){var Y=r;"string"==typeof r?Y=t.ownerDocument.querySelectorAll(r):r.querySelector&&(Y=[r]),this.previews=Y,U(Y,function(et){var G=document.createElement("img");J(et,Ee,{width:et.offsetWidth,height:et.offsetHeight,html:et.innerHTML}),s&&(G.crossOrigin=s),G.src=T,G.alt=z,G.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',et.innerHTML="",et.appendChild(G)})}},resetPreview:function(){U(this.previews,function(t){var s=L(t,Ee);k(t,{width:s.width,height:s.height}),t.innerHTML=s.html,function A(m,t){if(O(m[t]))try{delete m[t]}catch{m[t]=void 0}else if(m.dataset)try{delete m.dataset[t]}catch{m.dataset[t]=void 0}else m.removeAttribute("data-".concat(V(t)))}(t,Ee)})},preview:function(){var t=this.imageData,s=this.canvasData,r=this.cropBoxData,T=r.width,z=r.height,x=t.width,Y=t.height,et=r.left-s.left-t.left,G=r.top-s.top-t.top;!this.cropped||this.disabled||(k(this.viewBoxImage,f({width:x,height:Y},dt(f({translateX:-et,translateY:-G},t)))),U(this.previews,function(Q){var j=L(Q,Ee),nt=j.width,ct=j.height,st=nt,Mt=ct,pt=1;T&&(Mt=z*(pt=nt/T)),z&&Mt>ct&&(st=T*(pt=ct/z),Mt=ct),k(Q,{width:st,height:Mt}),k(Q.getElementsByTagName("img")[0],f({width:x*pt,height:Y*pt},dt(f({translateX:-et*pt,translateY:-G*pt},t))))}))}},kt={bind:function(){var t=this.element,s=this.options,r=this.cropper;B(s.cropstart)&&u(t,ve,s.cropstart),B(s.cropmove)&&u(t,Be,s.cropmove),B(s.cropend)&&u(t,Fe,s.cropend),B(s.crop)&&u(t,Ie,s.crop),B(s.zoom)&&u(t,v,s.zoom),u(r,je,this.onCropStart=this.cropStart.bind(this)),s.zoomable&&s.zoomOnWheel&&u(r,K,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),s.toggleDragModeOnDblclick&&u(r,Qe,this.onDblclick=this.dblclick.bind(this)),u(t.ownerDocument,We,this.onCropMove=this.cropMove.bind(this)),u(t.ownerDocument,Ze,this.onCropEnd=this.cropEnd.bind(this)),s.responsive&&u(window,Z,this.onResize=this.resize.bind(this))},unbind:function(){var t=this.element,s=this.options,r=this.cropper;B(s.cropstart)&&h(t,ve,s.cropstart),B(s.cropmove)&&h(t,Be,s.cropmove),B(s.cropend)&&h(t,Fe,s.cropend),B(s.crop)&&h(t,Ie,s.crop),B(s.zoom)&&h(t,v,s.zoom),h(r,je,this.onCropStart),s.zoomable&&s.zoomOnWheel&&h(r,K,this.onWheel,{passive:!1,capture:!0}),s.toggleDragModeOnDblclick&&h(r,Qe,this.onDblclick),h(t.ownerDocument,We,this.onCropMove),h(t.ownerDocument,Ze,this.onCropEnd),s.responsive&&h(window,Z,this.onResize)}},de={resize:function(){if(!this.disabled){var Y,et,t=this.options,s=this.container,r=this.containerData,T=s.offsetWidth/r.width,z=s.offsetHeight/r.height,x=Math.abs(T-1)>Math.abs(z-1)?T:z;1!==x&&(t.restore&&(Y=this.getCanvasData(),et=this.getCropBoxData()),this.render(),t.restore&&(this.setCanvasData(U(Y,function(G,Q){Y[Q]=G*x})),this.setCropBoxData(U(et,function(G,Q){et[Q]=G*x}))))}},dblclick:function(){this.disabled||"none"===this.options.dragMode||this.setDragMode(function N(m,t){return m.classList?m.classList.contains(t):m.className.indexOf(t)>-1}(this.dragBox,ge)?"move":fe)},wheel:function(t){var s=this,r=Number(this.options.wheelZoomRatio)||.1,T=1;this.disabled||(t.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){s.wheeling=!1},50),t.deltaY?T=t.deltaY>0?1:-1:t.wheelDelta?T=-t.wheelDelta/120:t.detail&&(T=t.detail>0?1:-1),this.zoom(-T*r,t)))},cropStart:function(t){var s=t.buttons,r=t.button;if(!(this.disabled||("mousedown"===t.type||"pointerdown"===t.type&&"mouse"===t.pointerType)&&(_(s)&&1!==s||_(r)&&0!==r||t.ctrlKey))){var x,T=this.options,z=this.pointers;t.changedTouches?U(t.changedTouches,function(Y){z[Y.identifier]=jt(Y)}):z[t.pointerId||0]=jt(t),x=Object.keys(z).length>1&&T.zoomable&&T.zoomOnTouch?"zoom":L(t.target,vt),i.test(x)&&!1!==$(this.element,ve,{originalEvent:t,action:x})&&(t.preventDefault(),this.action=x,this.cropping=!1,"crop"===x&&(this.cropping=!0,w(this.dragBox,me)))}},cropMove:function(t){var s=this.action;if(!this.disabled&&s){var r=this.pointers;t.preventDefault(),!1!==$(this.element,Be,{originalEvent:t,action:s})&&(t.changedTouches?U(t.changedTouches,function(T){f(r[T.identifier]||{},jt(T,!0))}):f(r[t.pointerId||0]||{},jt(t,!0)),this.change(t))}},cropEnd:function(t){if(!this.disabled){var s=this.action,r=this.pointers;t.changedTouches?U(t.changedTouches,function(T){delete r[T.identifier]}):delete r[t.pointerId||0],s&&(t.preventDefault(),Object.keys(r).length||(this.action=""),this.cropping&&(this.cropping=!1,y(this.dragBox,me,this.cropped&&this.options.modal)),$(this.element,Fe,{originalEvent:t,action:s}))}}},Ft={change:function(t){var Ae,r=this.canvasData,T=this.containerData,z=this.cropBoxData,x=this.pointers,Y=this.action,et=this.options.aspectRatio,G=z.left,Q=z.top,j=z.width,nt=z.height,ct=G+j,st=Q+nt,Mt=0,pt=0,Bt=T.width,Yt=T.height,St=!0;!et&&t.shiftKey&&(et=j&&nt?j/nt:1),this.limited&&(pt=z.minTop,Bt=(Mt=z.minLeft)+Math.min(T.width,r.width,r.left+r.width),Yt=pt+Math.min(T.height,r.height,r.top+r.height));var ae=x[Object.keys(x)[0]],it={x:ae.endX-ae.startX,y:ae.endY-ae.startY},gt=function(le){switch(le){case"e":ct+it.x>Bt&&(it.x=Bt-ct);break;case"w":G+it.x<Mt&&(it.x=Mt-G);break;case Kt:Q+it.y<pt&&(it.y=pt-Q);break;case"s":st+it.y>Yt&&(it.y=Yt-st)}};switch(Y){case"all":G+=it.x,Q+=it.y;break;case"e":if(it.x>=0&&(ct>=Bt||et&&(Q<=pt||st>=Yt))){St=!1;break}gt("e"),(j+=it.x)<0&&(Y="w",G-=j=-j),et&&(Q+=(z.height-(nt=j/et))/2);break;case Kt:if(it.y<=0&&(Q<=pt||et&&(G<=Mt||ct>=Bt))){St=!1;break}gt(Kt),Q+=it.y,(nt-=it.y)<0&&(Y="s",Q-=nt=-nt),et&&(G+=(z.width-(j=nt*et))/2);break;case"w":if(it.x<=0&&(G<=Mt||et&&(Q<=pt||st>=Yt))){St=!1;break}gt("w"),G+=it.x,(j-=it.x)<0&&(Y="e",G-=j=-j),et&&(Q+=(z.height-(nt=j/et))/2);break;case"s":if(it.y>=0&&(st>=Yt||et&&(G<=Mt||ct>=Bt))){St=!1;break}gt("s"),(nt+=it.y)<0&&(Y=Kt,Q-=nt=-nt),et&&(G+=(z.width-(j=nt*et))/2);break;case ie:if(et){if(it.y<=0&&(Q<=pt||ct>=Bt)){St=!1;break}gt(Kt),Q+=it.y,j=(nt-=it.y)*et}else gt(Kt),gt("e"),it.x>=0?ct<Bt?j+=it.x:it.y<=0&&Q<=pt&&(St=!1):j+=it.x,it.y<=0?Q>pt&&(nt-=it.y,Q+=it.y):(nt-=it.y,Q+=it.y);j<0&&nt<0?(Y=$t,Q-=nt=-nt,G-=j=-j):j<0?(Y=xt,G-=j=-j):nt<0&&(Y=Ht,Q-=nt=-nt);break;case xt:if(et){if(it.y<=0&&(Q<=pt||G<=Mt)){St=!1;break}gt(Kt),Q+=it.y,G+=z.width-(j=(nt-=it.y)*et)}else gt(Kt),gt("w"),it.x<=0?G>Mt?(j-=it.x,G+=it.x):it.y<=0&&Q<=pt&&(St=!1):(j-=it.x,G+=it.x),it.y<=0?Q>pt&&(nt-=it.y,Q+=it.y):(nt-=it.y,Q+=it.y);j<0&&nt<0?(Y=Ht,Q-=nt=-nt,G-=j=-j):j<0?(Y=ie,G-=j=-j):nt<0&&(Y=$t,Q-=nt=-nt);break;case $t:if(et){if(it.x<=0&&(G<=Mt||st>=Yt)){St=!1;break}gt("w"),G+=it.x,nt=(j-=it.x)/et}else gt("s"),gt("w"),it.x<=0?G>Mt?(j-=it.x,G+=it.x):it.y>=0&&st>=Yt&&(St=!1):(j-=it.x,G+=it.x),it.y>=0?st<Yt&&(nt+=it.y):nt+=it.y;j<0&&nt<0?(Y=ie,Q-=nt=-nt,G-=j=-j):j<0?(Y=Ht,G-=j=-j):nt<0&&(Y=xt,Q-=nt=-nt);break;case Ht:if(et){if(it.x>=0&&(ct>=Bt||st>=Yt)){St=!1;break}gt("e"),nt=(j+=it.x)/et}else gt("s"),gt("e"),it.x>=0?ct<Bt?j+=it.x:it.y>=0&&st>=Yt&&(St=!1):j+=it.x,it.y>=0?st<Yt&&(nt+=it.y):nt+=it.y;j<0&&nt<0?(Y=xt,Q-=nt=-nt,G-=j=-j):j<0?(Y=$t,G-=j=-j):nt<0&&(Y=ie,Q-=nt=-nt);break;case"move":this.move(it.x,it.y),St=!1;break;case"zoom":this.zoom(function re(m){var t=lt({},m),s=0;return U(m,function(r,T){delete t[T],U(t,function(z){var x=Math.abs(r.startX-z.startX),Y=Math.abs(r.startY-z.startY),et=Math.abs(r.endX-z.endX),G=Math.abs(r.endY-z.endY),Q=Math.sqrt(x*x+Y*Y),nt=(Math.sqrt(et*et+G*G)-Q)/Q;Math.abs(nt)>Math.abs(s)&&(s=nt)})}),s}(x),t),St=!1;break;case"crop":if(!it.x||!it.y){St=!1;break}Ae=rt(this.cropper),G=ae.startX-Ae.left,Q=ae.startY-Ae.top,j=z.minWidth,nt=z.minHeight,it.x>0?Y=it.y>0?Ht:ie:it.x<0&&(G-=j,Y=it.y>0?$t:xt),it.y<0&&(Q-=nt),this.cropped||(F(this.cropBox,Ot),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}St&&(z.width=j,z.height=nt,z.left=G,z.top=Q,this.action=Y,this.renderCropBox()),U(x,function(Lt){Lt.startX=Lt.endX,Lt.startY=Lt.endY})}},Jt={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&w(this.dragBox,me),F(this.cropBox,Ot),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=f({},this.initialImageData),this.canvasData=f({},this.initialCanvasData),this.cropBoxData=f({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(f(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),F(this.dragBox,me),w(this.cropBox,Ot)),this},replace:function(t){var s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&t&&(this.isImg&&(this.element.src=t),s?(this.url=t,this.image.src=t,this.ready&&(this.viewBoxImage.src=t,U(this.previews,function(r){r.getElementsByTagName("img")[0].src=t}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(t))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,F(this.cropper,xe)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,w(this.cropper,xe)),this},destroy:function(){var t=this.element;return t[mt]?(t[mt]=void 0,this.isImg&&this.replaced&&(t.src=this.originalUrl),this.uncreate(),this):this},move:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,r=this.canvasData,T=r.left,z=r.top;return this.moveTo(H(t)?t:T+Number(t),H(s)?s:z+Number(s))},moveTo:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,r=this.canvasData,T=!1;return t=Number(t),s=Number(s),this.ready&&!this.disabled&&this.options.movable&&(_(t)&&(r.left=t,T=!0),_(s)&&(r.top=s,T=!0),T&&this.renderCanvas(!0)),this},zoom:function(t,s){var r=this.canvasData;return t=Number(t),this.zoomTo(r.width*(t=t<0?1/(1-t):1+t)/r.naturalWidth,null,s)},zoomTo:function(t,s,r){var T=this.options,z=this.canvasData,x=z.width,Y=z.height,et=z.naturalWidth,G=z.naturalHeight;if((t=Number(t))>=0&&this.ready&&!this.disabled&&T.zoomable){var Q=et*t,j=G*t;if(!1===$(this.element,v,{ratio:t,oldRatio:x/et,originalEvent:r}))return this;if(r){var nt=this.pointers,ct=rt(this.cropper),st=nt&&Object.keys(nt).length?function At(m){var t=0,s=0,r=0;return U(m,function(T){t+=T.startX,s+=T.startY,r+=1}),{pageX:t/=r,pageY:s/=r}}(nt):{pageX:r.pageX,pageY:r.pageY};z.left-=(st.pageX-ct.left-z.left)/x*(Q-x),z.top-=(st.pageY-ct.top-z.top)/Y*(j-Y)}else X(s)&&_(s.x)&&_(s.y)?(z.left-=(s.x-z.left)/x*(Q-x),z.top-=(s.y-z.top)/Y*(j-Y)):(z.left-=(Q-x)/2,z.top-=(j-Y)/2);z.width=Q,z.height=j,this.renderCanvas(!0)}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t))},rotateTo:function(t){return _(t=Number(t))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=t%360,this.renderCanvas(!0,!0)),this},scaleX:function(t){var s=this.imageData.scaleY;return this.scale(t,_(s)?s:1)},scaleY:function(t){var s=this.imageData.scaleX;return this.scale(_(s)?s:1,t)},scale:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,r=this.imageData,T=!1;return t=Number(t),s=Number(s),this.ready&&!this.disabled&&this.options.scalable&&(_(t)&&(r.scaleX=t,T=!0),_(s)&&(r.scaleY=s,T=!0),T&&this.renderCanvas(!0,!0)),this},getData:function(){var x,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],s=this.options,r=this.imageData,T=this.canvasData,z=this.cropBoxData;if(this.ready&&this.cropped){var Y=r.width/r.naturalWidth;if(U(x={x:z.left-T.left,y:z.top-T.top,width:z.width,height:z.height},function(Q,j){x[j]=Q/Y}),t){var et=Math.round(x.y+x.height),G=Math.round(x.x+x.width);x.x=Math.round(x.x),x.y=Math.round(x.y),x.width=G-x.x,x.height=et-x.y}}else x={x:0,y:0,width:0,height:0};return s.rotatable&&(x.rotate=r.rotate||0),s.scalable&&(x.scaleX=r.scaleX||1,x.scaleY=r.scaleY||1),x},setData:function(t){var s=this.options,r=this.imageData,T=this.canvasData,z={};if(this.ready&&!this.disabled&&X(t)){var x=!1;s.rotatable&&_(t.rotate)&&t.rotate!==r.rotate&&(r.rotate=t.rotate,x=!0),s.scalable&&(_(t.scaleX)&&t.scaleX!==r.scaleX&&(r.scaleX=t.scaleX,x=!0),_(t.scaleY)&&t.scaleY!==r.scaleY&&(r.scaleY=t.scaleY,x=!0)),x&&this.renderCanvas(!0,!0);var Y=r.width/r.naturalWidth;_(t.x)&&(z.left=t.x*Y+T.left),_(t.y)&&(z.top=t.y*Y+T.top),_(t.width)&&(z.width=t.width*Y),_(t.height)&&(z.height=t.height*Y),this.setCropBoxData(z)}return this},getContainerData:function(){return this.ready?f({},this.containerData):{}},getImageData:function(){return this.sized?f({},this.imageData):{}},getCanvasData:function(){var t=this.canvasData,s={};return this.ready&&U(["left","top","width","height","naturalWidth","naturalHeight"],function(r){s[r]=t[r]}),s},setCanvasData:function(t){var s=this.canvasData,r=s.aspectRatio;return this.ready&&!this.disabled&&X(t)&&(_(t.left)&&(s.left=t.left),_(t.top)&&(s.top=t.top),_(t.width)?(s.width=t.width,s.height=t.width/r):_(t.height)&&(s.height=t.height,s.width=t.height*r),this.renderCanvas(!0)),this},getCropBoxData:function(){var s,t=this.cropBoxData;return this.ready&&this.cropped&&(s={left:t.left,top:t.top,width:t.width,height:t.height}),s||{}},setCropBoxData:function(t){var T,z,s=this.cropBoxData,r=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&X(t)&&(_(t.left)&&(s.left=t.left),_(t.top)&&(s.top=t.top),_(t.width)&&t.width!==s.width&&(T=!0,s.width=t.width),_(t.height)&&t.height!==s.height&&(z=!0,s.height=t.height),r&&(T?s.height=s.width/r:z&&(s.width=s.height*r)),this.renderCropBox()),this},getCroppedCanvas:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var s=this.canvasData,r=function yt(m,t,s,r){var T=t.aspectRatio,z=t.naturalWidth,x=t.naturalHeight,Y=t.rotate,et=void 0===Y?0:Y,G=t.scaleX,Q=void 0===G?1:G,j=t.scaleY,nt=void 0===j?1:j,ct=s.aspectRatio,st=s.naturalWidth,Mt=s.naturalHeight,pt=r.fillColor,Bt=void 0===pt?"transparent":pt,Yt=r.imageSmoothingEnabled,St=void 0===Yt||Yt,Ae=r.imageSmoothingQuality,ae=void 0===Ae?"low":Ae,it=r.maxWidth,gt=void 0===it?1/0:it,Lt=r.maxHeight,le=void 0===Lt?1/0:Lt,ze=r.minWidth,Le=void 0===ze?0:ze,Ue=r.minHeight,ke=void 0===Ue?0:Ue,ye=document.createElement("canvas"),te=ye.getContext("2d"),Pe=_t({aspectRatio:ct,width:gt,height:le}),$e=_t({aspectRatio:ct,width:Le,height:ke},"cover"),Ke=Math.min(Pe.width,Math.max($e.width,st)),qe=Math.min(Pe.height,Math.max($e.height,Mt)),tn=_t({aspectRatio:T,width:gt,height:le}),en=_t({aspectRatio:T,width:Le,height:ke},"cover"),nn=Math.min(tn.width,Math.max(en.width,z)),rn=Math.min(tn.height,Math.max(en.height,x)),an=[-nn/2,-rn/2,nn,rn];return ye.width=D(Ke),ye.height=D(qe),te.fillStyle=Bt,te.fillRect(0,0,Ke,qe),te.save(),te.translate(Ke/2,qe/2),te.rotate(et*Math.PI/180),te.scale(Q,nt),te.imageSmoothingEnabled=St,te.imageSmoothingQuality=ae,te.drawImage.apply(te,[m].concat(Re(an.map(function(on){return Math.floor(D(on))})))),te.restore(),ye}(this.image,this.imageData,s,t);if(!this.cropped)return r;var T=this.getData(t.rounded),z=T.x,x=T.y,Y=T.width,et=T.height,G=r.width/Math.floor(s.naturalWidth);1!==G&&(z*=G,x*=G,Y*=G,et*=G);var Q=Y/et,j=_t({aspectRatio:Q,width:t.maxWidth||1/0,height:t.maxHeight||1/0}),nt=_t({aspectRatio:Q,width:t.minWidth||0,height:t.minHeight||0},"cover"),ct=_t({aspectRatio:Q,width:t.width||(1!==G?r.width:Y),height:t.height||(1!==G?r.height:et)}),st=ct.width,Mt=ct.height;st=Math.min(j.width,Math.max(nt.width,st)),Mt=Math.min(j.height,Math.max(nt.height,Mt));var pt=document.createElement("canvas"),Bt=pt.getContext("2d");pt.width=D(st),pt.height=D(Mt),Bt.fillStyle=t.fillColor||"transparent",Bt.fillRect(0,0,st,Mt);var Yt=t.imageSmoothingEnabled,Ae=t.imageSmoothingQuality;Bt.imageSmoothingEnabled=void 0===Yt||Yt,Ae&&(Bt.imageSmoothingQuality=Ae);var le,ze,Le,Ue,ke,ye,ae=r.width,it=r.height,gt=z,Lt=x;gt<=-Y||gt>ae?(gt=0,le=0,Le=0,ke=0):gt<=0?(Le=-gt,gt=0,ke=le=Math.min(ae,Y+gt)):gt<=ae&&(Le=0,ke=le=Math.min(Y,ae-gt)),le<=0||Lt<=-et||Lt>it?(Lt=0,ze=0,Ue=0,ye=0):Lt<=0?(Ue=-Lt,Lt=0,ye=ze=Math.min(it,et+Lt)):Lt<=it&&(Ue=0,ye=ze=Math.min(et,it-Lt));var te=[gt,Lt,le,ze];if(ke>0&&ye>0){var Pe=st/Y;te.push(Le*Pe,Ue*Pe,ke*Pe,ye*Pe)}return Bt.drawImage.apply(Bt,[r].concat(Re(te.map(function($e){return Math.floor(D($e))})))),pt},setAspectRatio:function(t){var s=this.options;return!this.disabled&&!H(t)&&(s.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(t){var s=this.options,r=this.dragBox,T=this.face;if(this.ready&&!this.disabled){var z=t===fe,x=s.movable&&"move"===t;s.dragMode=t=z||x?t:"none",J(r,vt,t),y(r,ge,z),y(r,Nt,x),s.cropBoxMovable||(J(T,vt,t),y(T,ge,z),y(T,Nt,x))}return this}},Xt=Pt.Cropper,qt=function(){function m(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function be(m,t){if(!(m instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),!t||!E.test(t.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=t,this.options=f({},c,X(s)&&s),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return function a(m,t,s){return t&&Vt(m.prototype,t),s&&Vt(m,s),Object.defineProperty(m,"prototype",{writable:!1}),m}(m,[{key:"init",value:function(){var T,s=this.element,r=s.tagName.toLowerCase();if(!s[mt]){if(s[mt]=this,"img"===r){if(this.isImg=!0,T=s.getAttribute("src")||"",this.originalUrl=T,!T)return;T=s.src}else"canvas"===r&&window.HTMLCanvasElement&&(T=s.toDataURL());this.load(T)}}},{key:"load",value:function(s){var r=this;if(s){this.url=s,this.imageData={};var T=this.element,z=this.options;if(!z.rotatable&&!z.scalable&&(z.checkOrientation=!1),!z.checkOrientation||!window.ArrayBuffer)return void this.clone();if(C.test(s))return void(g.test(s)?this.read(function Wt(m){var t=m.replace(zt,""),s=atob(t),r=new ArrayBuffer(s.length),T=new Uint8Array(r);return U(T,function(z,x){T[x]=s.charCodeAt(x)}),r}(s)):this.clone());var x=new XMLHttpRequest,Y=this.clone.bind(this);this.reloading=!0,this.xhr=x,x.onabort=Y,x.onerror=Y,x.ontimeout=Y,x.onprogress=function(){x.getResponseHeader("content-type")!==e&&x.abort()},x.onload=function(){r.read(x.response)},x.onloadend=function(){r.reloading=!1,r.xhr=null},z.checkCrossOrigin&&ht(s)&&T.crossOrigin&&(s=ft(s)),x.open("GET",s,!0),x.responseType="arraybuffer",x.withCredentials="use-credentials"===T.crossOrigin,x.send()}}},{key:"read",value:function(s){var r=this.options,T=this.imageData,z=bt(s),x=0,Y=1,et=1;if(z>1){this.url=function wt(m,t){for(var s=[],T=new Uint8Array(m);T.length>0;)s.push(Tt.apply(null,M(T.subarray(0,8192)))),T=T.subarray(8192);return"data:".concat(t,";base64,").concat(btoa(s.join("")))}(s,e);var G=function Zt(m){var t=0,s=1,r=1;switch(m){case 2:s=-1;break;case 3:t=-180;break;case 4:r=-1;break;case 5:t=90,r=-1;break;case 6:t=90;break;case 7:t=90,s=-1;break;case 8:t=-90}return{rotate:t,scaleX:s,scaleY:r}}(z);x=G.rotate,Y=G.scaleX,et=G.scaleY}r.rotatable&&(T.rotate=x),r.scalable&&(T.scaleX=Y,T.scaleY=et),this.clone()}},{key:"clone",value:function(){var s=this.element,r=this.url,T=s.crossOrigin,z=r;this.options.checkCrossOrigin&&ht(r)&&(T||(T="anonymous"),z=ft(r)),this.crossOrigin=T,this.crossOriginUrl=z;var x=document.createElement("img");T&&(x.crossOrigin=T),x.src=z||r,x.alt=s.alt||"The image to crop",this.image=x,x.onload=this.start.bind(this),x.onerror=this.stop.bind(this),w(x,Te),s.parentNode.insertBefore(x,s.nextSibling)}},{key:"start",value:function(){var s=this,r=this.image;r.onload=null,r.onerror=null,this.sizing=!0;var T=Pt.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(Pt.navigator.userAgent),z=function(G,Q){f(s.imageData,{naturalWidth:G,naturalHeight:Q,aspectRatio:G/Q}),s.initialImageData=f({},s.imageData),s.sizing=!1,s.sized=!0,s.build()};if(!r.naturalWidth||T){var x=document.createElement("img"),Y=document.body||document.documentElement;this.sizingImage=x,x.onload=function(){z(x.width,x.height),T||Y.removeChild(x)},x.src=r.src,T||(x.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",Y.appendChild(x))}else z(r.naturalWidth,r.naturalHeight)}},{key:"stop",value:function(){var s=this.image;s.onload=null,s.onerror=null,s.parentNode.removeChild(s),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var s=this.element,r=this.options,T=this.image,z=s.parentNode,x=document.createElement("div");x.innerHTML='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>';var Y=x.querySelector(".".concat(mt,"-container")),et=Y.querySelector(".".concat(mt,"-canvas")),G=Y.querySelector(".".concat(mt,"-drag-box")),Q=Y.querySelector(".".concat(mt,"-crop-box")),j=Q.querySelector(".".concat(mt,"-face"));this.container=z,this.cropper=Y,this.canvas=et,this.dragBox=G,this.cropBox=Q,this.viewBox=Y.querySelector(".".concat(mt,"-view-box")),this.face=j,et.appendChild(T),w(s,Ot),z.insertBefore(Y,s.nextSibling),F(T,Te),this.initPreview(),this.bind(),r.initialAspectRatio=Math.max(0,r.initialAspectRatio)||NaN,r.aspectRatio=Math.max(0,r.aspectRatio)||NaN,r.viewMode=Math.max(0,Math.min(3,Math.round(r.viewMode)))||0,w(Q,Ot),r.guides||w(Q.getElementsByClassName("".concat(mt,"-dashed")),Ot),r.center||w(Q.getElementsByClassName("".concat(mt,"-center")),Ot),r.background&&w(Y,"".concat(mt,"-bg")),r.highlight||w(j,Ye),r.cropBoxMovable&&(w(j,Nt),J(j,vt,"all")),r.cropBoxResizable||(w(Q.getElementsByClassName("".concat(mt,"-line")),Ot),w(Q.getElementsByClassName("".concat(mt,"-point")),Ot)),this.render(),this.ready=!0,this.setDragMode(r.dragMode),r.autoCrop&&this.crop(),this.setData(r.data),B(r.ready)&&u(s,W,r.ready,{once:!0}),$(s,W)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var s=this.cropper.parentNode;s&&s.removeChild(this.cropper),F(this.element,Ot)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=Xt,m}},{key:"setDefaults",value:function(s){f(c,X(s)&&s)}}]),m}();return f(qt.prototype,se,Oe,kt,de,Ft,Jt),qt}()},4953:(Je,Se,lt)=>{"use strict";lt.d(Se,{m:()=>Ze});var Gt=lt(388),be=lt(5668),Vt=lt.n(be);function oe(W,Z){return new Promise(function(K,v){let e;return Re(W).then(function(i){try{return e=i,K(new Blob([Z.slice(0,2),e,Z.slice(2)],{type:"image/jpeg"}))}catch(C){return v(C)}},v)})}const Re=W=>new Promise((Z,K)=>{const v=new FileReader;v.addEventListener("load",({target:{result:e}})=>{const i=new DataView(e);let C=0;if(65496!==i.getUint16(C))return K("not a valid JPEG");for(C+=2;;){const g=i.getUint16(C);if(65498===g)break;const E=i.getUint16(C+2);if(65505===g&&1165519206===i.getUint32(C+4)){const S=C+10;let l;switch(i.getUint16(S)){case 18761:l=!0;break;case 19789:l=!1;break;default:return K("TIFF header contains invalid endian")}if(42!==i.getUint16(S+2,l))return K("TIFF header contains invalid version");const c=i.getUint32(S+4,l),o=S+c+2+12*i.getUint16(S+c,l);for(let p=S+c+2;p<o;p+=12)if(274==i.getUint16(p,l)){if(3!==i.getUint16(p+2,l))return K("Orientation data type is invalid");if(1!==i.getUint32(p+4,l))return K("Orientation data count is invalid");i.setUint16(p+8,1,l);break}return Z(e.slice(C,C+2+E))}C+=2+E}return Z(new Blob)}),v.readAsArrayBuffer(W)});var Z,K,v,we={};({get exports(){return we},set exports(W){we=W}}).exports=v={},v.parse=function(e,i){for(var C=v.bin.readUshort,g=v.bin.readUint,E=0,S={},l=new Uint8Array(e),c=l.length-4;101010256!=g(l,c);)c--;E=c,E+=4;var o=C(l,E+=4);C(l,E+=2);var p=g(l,E+=2),_=g(l,E+=4);E+=4,E=_;for(var I=0;I<o;I++){g(l,E),E+=4,E+=4,E+=4,g(l,E+=4),p=g(l,E+=4);var H=g(l,E+=4),O=C(l,E+=4),tt=C(l,E+2),X=C(l,E+4);E+=6;var B=g(l,E+=8);E+=4,E+=O+tt+X,v._readLocal(l,B,S,p,H,i)}return S},v._readLocal=function(e,i,C,g,E,S){var l=v.bin.readUshort,c=v.bin.readUint;c(e,i),l(e,i+=4),l(e,i+=2);var o=l(e,i+=2);c(e,i+=2),c(e,i+=4),i+=4;var p=l(e,i+=8),_=l(e,i+=2),I=v.bin.readUTF8(e,i+=2,p);if(i+=p,i+=_,S)C[I]={size:E,csize:g};else{var H=new Uint8Array(e.buffer,i);if(0==o)C[I]=new Uint8Array(H.buffer.slice(i,i+g));else{if(8!=o)throw"unknown compression method: "+o;var O=new Uint8Array(E);v.inflateRaw(H,O),C[I]=O}}},v.inflateRaw=function(e,i){return v.F.inflate(e,i)},v.inflate=function(e,i){return v.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),i)},v.deflate=function(e,i){null==i&&(i={level:6});var C=0,g=new Uint8Array(50+Math.floor(1.1*e.length));g[C]=120,g[C+1]=156,C=v.F.deflateRaw(e,g,C+=2,i.level);var E=v.adler(e,0,e.length);return g[C+0]=E>>>24&255,g[C+1]=E>>>16&255,g[C+2]=E>>>8&255,g[C+3]=E>>>0&255,new Uint8Array(g.buffer,0,C+4)},v.deflateRaw=function(e,i){null==i&&(i={level:6});var C=new Uint8Array(50+Math.floor(1.1*e.length)),g=v.F.deflateRaw(e,C,g,i.level);return new Uint8Array(C.buffer,0,g)},v.encode=function(e,i){null==i&&(i=!1);var C=0,g=v.bin.writeUint,E=v.bin.writeUshort,S={};for(var l in e){var c=!v._noNeed(l)&&!i,o=e[l],p=v.crc.crc(o,0,o.length);S[l]={cpr:c,usize:o.length,crc:p,file:c?v.deflateRaw(o):o}}for(var l in S)C+=S[l].file.length+30+46+2*v.bin.sizeUTF8(l);C+=22;var _=new Uint8Array(C),I=0,H=[];for(var l in S){var O=S[l];H.push(I),I=v._writeHeader(_,I,l,O,0)}var tt=0,X=I;for(var l in S)O=S[l],H.push(I),I=v._writeHeader(_,I,l,O,1,H[tt++]);var B=I-X;return g(_,I,101010256),I+=4,E(_,I+=4,tt),E(_,I+=2,tt),g(_,I+=2,B),g(_,I+=4,X),I+=4,I+=2,_.buffer},v._noNeed=function(e){var i=e.split(".").pop().toLowerCase();return-1!="png,jpg,jpeg,zip".indexOf(i)},v._writeHeader=function(e,i,C,g,E,S){var l=v.bin.writeUint,c=v.bin.writeUshort,o=g.file;return l(e,i,0==E?67324752:33639248),i+=4,1==E&&(i+=2),c(e,i,20),c(e,i+=2,0),c(e,i+=2,g.cpr?8:0),l(e,i+=2,0),l(e,i+=4,g.crc),l(e,i+=4,o.length),l(e,i+=4,g.usize),c(e,i+=4,v.bin.sizeUTF8(C)),c(e,i+=2,0),i+=2,1==E&&(i+=2,i+=2,l(e,i+=6,S),i+=4),i+=v.bin.writeUTF8(e,i,C),0==E&&(e.set(o,i),i+=o.length),i},v.crc={table:function(){for(var e=new Uint32Array(256),i=0;i<256;i++){for(var C=i,g=0;g<8;g++)1&C?C=3988292384^C>>>1:C>>>=1;e[i]=C}return e}(),update:function(e,i,C,g){for(var E=0;E<g;E++)e=v.crc.table[255&(e^i[C+E])]^e>>>8;return e},crc:function(e,i,C){return 4294967295^v.crc.update(4294967295,e,i,C)}},v.adler=function(e,i,C){for(var g=1,E=0,S=i,l=i+C;S<l;){for(var c=Math.min(S+5552,l);S<c;)E+=g+=e[S++];g%=65521,E%=65521}return E<<16|g},v.bin={readUshort:function(e,i){return e[i]|e[i+1]<<8},writeUshort:function(e,i,C){e[i]=255&C,e[i+1]=C>>8&255},readUint:function(e,i){return 16777216*e[i+3]+(e[i+2]<<16|e[i+1]<<8|e[i])},writeUint:function(e,i,C){e[i]=255&C,e[i+1]=C>>8&255,e[i+2]=C>>16&255,e[i+3]=C>>24&255},readASCII:function(e,i,C){for(var g="",E=0;E<C;E++)g+=String.fromCharCode(e[i+E]);return g},writeASCII:function(e,i,C){for(var g=0;g<C.length;g++)e[i+g]=C.charCodeAt(g)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,i,C){for(var g,E="",S=0;S<C;S++)E+="%"+v.bin.pad(e[i+S].toString(16));try{g=decodeURIComponent(E)}catch{return v.bin.readASCII(e,i,C)}return g},writeUTF8:function(e,i,C){for(var g=C.length,E=0,S=0;S<g;S++){var l=C.charCodeAt(S);if(4294967168&l)if(4294965248&l)if(4294901760&l){if(4292870144&l)throw"e";e[i+E]=240|l>>18,e[i+E+1]=128|l>>12&63,e[i+E+2]=128|l>>6&63,e[i+E+3]=128|l>>0&63,E+=4}else e[i+E]=224|l>>12,e[i+E+1]=128|l>>6&63,e[i+E+2]=128|l>>0&63,E+=3;else e[i+E]=192|l>>6,e[i+E+1]=128|l>>0&63,E+=2;else e[i+E]=l,E++}return E},sizeUTF8:function(e){for(var i=e.length,C=0,g=0;g<i;g++){var E=e.charCodeAt(g);if(4294967168&E)if(4294965248&E)if(4294901760&E){if(4292870144&E)throw"e";C+=4}else C+=3;else C+=2;else C++}return C}},v.F={},v.F.deflateRaw=function(e,i,C,g){var E=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][g],S=v.F.U,l=v.F._goodIndex,c=v.F._putsE,o=0,p=C<<3,_=0,I=e.length;if(0==g){for(;o<I;)c(i,p,o+(R=Math.min(65535,I-o))==I?1:0),p=v.F._copyExact(e,o,R,i,p+8),o+=R;return p>>>3}var H=S.lits,O=S.strt,tt=S.prev,X=0,B=0,q=0,M=0,U=0,f=0;for(I>2&&(O[f=v.F._hash(e,0)]=0),o=0;o<I;o++){if(U=f,o+1<I-2){f=v.F._hash(e,o+1);var b=o+1&32767;tt[b]=O[f],O[f]=b}if(_<=o){(X>14e3||B>26697)&&I-o>100&&(_<o&&(H[X]=o-_,X+=2,_=o),p=v.F._writeBlock(o==I-1||_==I?1:0,H,X,M,e,q,o-q,i,p),X=B=M=0,q=o);var D=0;o<I-2&&(D=v.F._bestMatch(e,o,tt,U,Math.min(E[2],I-o),E[3]));var R=D>>>16,k=65535&D;if(0!=D){k=65535&D;var N=l(R=D>>>16,S.of0);S.lhst[257+N]++;var w=l(k,S.df0);S.dhst[w]++,M+=S.exb[N]+S.dxb[w],H[X]=R<<23|o-_,H[X+1]=k<<16|N<<8|w,X+=2,_=o+R}else S.lhst[e[o]]++;B++}}for(q==o&&0!=e.length||(_<o&&(H[X]=o-_,X+=2,_=o),p=v.F._writeBlock(1,H,X,M,e,q,o-q,i,p),X=0,B=0,X=B=M=0,q=o);7&p;)p++;return p>>>3},v.F._bestMatch=function(e,i,C,g,E,S){var l=32767&i,c=C[l],o=l-c+32768&32767;if(c==l||g!=v.F._hash(e,i-o))return 0;for(var p=0,_=0,I=Math.min(32767,i);o<=I&&0!=--S&&c!=l;){if(0==p||e[i+p]==e[i+p-o]){var H=v.F._howLong(e,i,o);if(H>p){if(_=o,(p=H)>=E)break;o+2<H&&(H=o+2);for(var O=0,tt=0;tt<H-2;tt++){var X=i-o+tt+32768&32767,B=X-C[X]+32768&32767;B>O&&(O=B,c=X)}}}o+=(l=c)-(c=C[l])+32768&32767}return p<<16|_},v.F._howLong=function(e,i,C){if(e[i]!=e[i-C]||e[i+1]!=e[i+1-C]||e[i+2]!=e[i+2-C])return 0;var g=i,E=Math.min(e.length,i+258);for(i+=3;i<E&&e[i]==e[i-C];)i++;return i-g},v.F._hash=function(e,i){return(e[i]<<8|e[i+1])+(e[i+2]<<4)&65535},v.saved=0,v.F._writeBlock=function(e,i,C,g,E,S,l,c,o){var p,_,I,H,O,tt,X,B,q,M=v.F.U,U=v.F._putsF,f=v.F._putsE;M.lhst[256]++,_=(p=v.F.getTrees())[0],I=p[1],H=p[2],O=p[3],tt=p[4],X=p[5],B=p[6],q=p[7];var b=32+(o+3&7?8-(o+3&7):0)+(l<<3),D=g+v.F.contSize(M.fltree,M.lhst)+v.F.contSize(M.fdtree,M.dhst),R=g+v.F.contSize(M.ltree,M.lhst)+v.F.contSize(M.dtree,M.dhst);R+=14+3*X+v.F.contSize(M.itree,M.ihst)+(2*M.ihst[16]+3*M.ihst[17]+7*M.ihst[18]);for(var k=0;k<286;k++)M.lhst[k]=0;for(k=0;k<30;k++)M.dhst[k]=0;for(k=0;k<19;k++)M.ihst[k]=0;var N=b<D&&b<R?0:D<R?1:2;if(U(c,o,e),U(c,o+1,N),o+=3,0==N){for(;7&o;)o++;o=v.F._copyExact(E,S,l,c,o)}else{var w,F;if(1==N&&(w=M.fltree,F=M.fdtree),2==N){v.F.makeCodes(M.ltree,_),v.F.revCodes(M.ltree,_),v.F.makeCodes(M.dtree,I),v.F.revCodes(M.dtree,I),v.F.makeCodes(M.itree,H),v.F.revCodes(M.itree,H),w=M.ltree,F=M.dtree,f(c,o,O-257),f(c,o+=5,tt-1),f(c,o+=5,X-4),o+=4;for(var y=0;y<X;y++)f(c,o+3*y,M.itree[1+(M.ordr[y]<<1)]);o=v.F._codeTiny(B,M.itree,c,o+=3*X),o=v.F._codeTiny(q,M.itree,c,o)}for(var d=S,V=0;V<C;V+=2){for(var L=i[V],J=L>>>23,A=d+(8388607&L);d<A;)o=v.F._writeLit(E[d++],w,c,o);if(0!=J){var P=i[V+1],n=P>>16,h=P>>8&255,u=255&P;f(c,o=v.F._writeLit(257+h,w,c,o),J-M.of0[h]),U(c,o=v.F._writeLit(u,F,c,o+=M.exb[h]),n-M.df0[u]),o+=M.dxb[u],d+=J}}o=v.F._writeLit(256,w,c,o)}return o},v.F._copyExact=function(e,i,C,g,E){var S=E>>>3;return g[S]=C,g[S+1]=C>>>8,g[S+2]=255-g[S],g[S+3]=255-g[S+1],S+=4,g.set(new Uint8Array(e.buffer,i,C),S),E+(C+4<<3)},v.F.getTrees=function(){for(var e=v.F.U,i=v.F._hufTree(e.lhst,e.ltree,15),C=v.F._hufTree(e.dhst,e.dtree,15),g=[],E=v.F._lenCodes(e.ltree,g),S=[],l=v.F._lenCodes(e.dtree,S),c=0;c<g.length;c+=2)e.ihst[g[c]]++;for(c=0;c<S.length;c+=2)e.ihst[S[c]]++;for(var o=v.F._hufTree(e.ihst,e.itree,7),p=19;p>4&&0==e.itree[1+(e.ordr[p-1]<<1)];)p--;return[i,C,o,E,l,p,g,S]},v.F.getSecond=function(e){for(var i=[],C=0;C<e.length;C+=2)i.push(e[C+1]);return i},v.F.nonZero=function(e){for(var i="",C=0;C<e.length;C+=2)0!=e[C+1]&&(i+=(C>>1)+",");return i},v.F.contSize=function(e,i){for(var C=0,g=0;g<i.length;g++)C+=i[g]*e[1+(g<<1)];return C},v.F._codeTiny=function(e,i,C,g){for(var E=0;E<e.length;E+=2){var S=e[E],l=e[E+1];g=v.F._writeLit(S,i,C,g);var c=16==S?2:17==S?3:7;S>15&&(v.F._putsE(C,g,l,c),g+=c)}return g},v.F._lenCodes=function(e,i){for(var C=e.length;2!=C&&0==e[C-1];)C-=2;for(var g=0;g<C;g+=2){var E=e[g+1],S=g+3<C?e[g+3]:-1,l=g+5<C?e[g+5]:-1,c=0==g?-1:e[g-1];if(0==E&&S==E&&l==E){for(var o=g+5;o+2<C&&e[o+2]==E;)o+=2;(p=Math.min(o+1-g>>>1,138))<11?i.push(17,p-3):i.push(18,p-11),g+=2*p-2}else if(E==c&&S==E&&l==E){for(o=g+5;o+2<C&&e[o+2]==E;)o+=2;var p=Math.min(o+1-g>>>1,6);i.push(16,p-3),g+=2*p-2}else i.push(E,0)}return C>>>1},v.F._hufTree=function(e,i,C){var g=[],E=e.length,S=i.length,l=0;for(l=0;l<S;l+=2)i[l]=0,i[l+1]=0;for(l=0;l<E;l++)0!=e[l]&&g.push({lit:l,f:e[l]});var c=g.length,o=g.slice(0);if(0==c)return 0;if(1==c){var p=g[0].lit;return o=0==p?1:0,i[1+(p<<1)]=1,i[1+(o<<1)]=1,1}g.sort(function(B,q){return B.f-q.f});var _=g[0],I=g[1],H=0,O=1,tt=2;for(g[0]={lit:-1,f:_.f+I.f,l:_,r:I,d:0};O!=c-1;)_=H!=O&&(tt==c||g[H].f<g[tt].f)?g[H++]:g[tt++],I=H!=O&&(tt==c||g[H].f<g[tt].f)?g[H++]:g[tt++],g[O++]={lit:-1,f:_.f+I.f,l:_,r:I};var X=v.F.setDepth(g[O-1],0);for(X>C&&(v.F.restrictDepth(o,C,X),X=C),l=0;l<c;l++)i[1+(o[l].lit<<1)]=o[l].d;return X},v.F.setDepth=function(e,i){return-1!=e.lit?(e.d=i,i):Math.max(v.F.setDepth(e.l,i+1),v.F.setDepth(e.r,i+1))},v.F.restrictDepth=function(e,i,C){var g=0,E=1<<C-i,S=0;for(e.sort(function(c,o){return o.d==c.d?c.f-o.f:o.d-c.d}),g=0;g<e.length&&e[g].d>i;g++){var l=e[g].d;e[g].d=i,S+=E-(1<<C-l)}for(S>>>=C-i;S>0;)(l=e[g].d)<i?(e[g].d++,S-=1<<i-l-1):g++;for(;g>=0;g--)e[g].d==i&&S<0&&(e[g].d--,S++);0!=S&&console.log("debt left")},v.F._goodIndex=function(e,i){var C=0;return i[16|C]<=e&&(C|=16),i[8|C]<=e&&(C|=8),i[4|C]<=e&&(C|=4),i[2|C]<=e&&(C|=2),i[1|C]<=e&&(C|=1),C},v.F._writeLit=function(e,i,C,g){return v.F._putsF(C,g,i[e<<1]),g+i[1+(e<<1)]},v.F.inflate=function(e,i){var C=Uint8Array;if(3==e[0]&&0==e[1])return i||new C(0);var g=v.F,E=g._bitsF,S=g._bitsE,l=g._decodeTiny,c=g.makeCodes,o=g.codes2map,p=g._get17,_=g.U,I=null==i;I&&(i=new C(e.length>>>2<<3));for(var H,O,tt=0,X=0,B=0,q=0,M=0,U=0,f=0,b=0,D=0;0==tt;)if(tt=E(e,D,1),X=E(e,D+1,2),D+=3,0!=X){if(I&&(i=v.F._check(i,b+(1<<17))),1==X&&(H=_.flmap,O=_.fdmap,U=511,f=31),2==X){B=S(e,D,5)+257,q=S(e,D+5,5)+1,M=S(e,D+10,4)+4,D+=14;for(var R=0;R<38;R+=2)_.itree[R]=0,_.itree[R+1]=0;var k=1;for(R=0;R<M;R++){var N=S(e,D+3*R,3);_.itree[1+(_.ordr[R]<<1)]=N,N>k&&(k=N)}D+=3*M,c(_.itree,k),o(_.itree,k,_.imap),H=_.lmap,O=_.dmap,D=l(_.imap,(1<<k)-1,B+q,e,D,_.ttree);var w=g._copyOut(_.ttree,0,B,_.ltree);U=(1<<w)-1;var F=g._copyOut(_.ttree,B,q,_.dtree);f=(1<<F)-1,c(_.ltree,w),o(_.ltree,w,H),c(_.dtree,F),o(_.dtree,F,O)}for(;;){var y=H[p(e,D)&U];D+=15&y;var d=y>>>4;if(d>>>8){if(256==d)break;var V=b+d-254;if(d>264){var L=_.ldef[d-257];V=b+(L>>>3)+S(e,D,7&L),D+=7&L}var J=O[p(e,D)&f],P=_.ddef[J>>>4],n=(P>>>4)+E(e,D+=15&J,15&P);for(D+=15&P,I&&(i=v.F._check(i,b+(1<<17)));b<V;)i[b]=i[b++-n],i[b]=i[b++-n],i[b]=i[b++-n],i[b]=i[b++-n];b=V}else i[b++]=d}}else{7&D&&(D+=8-(7&D));var h=4+(D>>>3),u=e[h-4]|e[h-3]<<8;I&&(i=v.F._check(i,b+u)),i.set(new C(e.buffer,e.byteOffset+h,u),b),D=h+u<<3,b+=u}return i.length==b?i:i.slice(0,b)},v.F._check=function(e,i){var C=e.length;if(i<=C)return e;var g=new Uint8Array(Math.max(C<<1,i));return g.set(e,0),g},v.F._decodeTiny=function(e,i,C,g,E,S){for(var l=v.F._bitsE,c=v.F._get17,o=0;o<C;){var p=e[c(g,E)&i];E+=15&p;var _=p>>>4;if(_<=15)S[o]=_,o++;else{var I=0,H=0;16==_?(H=3+l(g,E,2),E+=2,I=S[o-1]):17==_?(H=3+l(g,E,3),E+=3):18==_&&(H=11+l(g,E,7),E+=7);for(var O=o+H;o<O;)S[o]=I,o++}}return E},v.F._copyOut=function(e,i,C,g){for(var E=0,S=0,l=g.length>>>1;S<C;){var c=e[S+i];g[S<<1]=0,g[1+(S<<1)]=c,c>E&&(E=c),S++}for(;S<l;)g[S<<1]=0,g[1+(S<<1)]=0,S++;return E},v.F.makeCodes=function(e,i){for(var C,g,E,S,l=v.F.U,c=e.length,o=l.bl_count,p=0;p<=i;p++)o[p]=0;for(p=1;p<c;p+=2)o[e[p]]++;var _=l.next_code;for(C=0,o[0]=0,g=1;g<=i;g++)_[g]=C=C+o[g-1]<<1;for(E=0;E<c;E+=2)0!=(S=e[E+1])&&(e[E]=_[S],_[S]++)},v.F.codes2map=function(e,i,C){for(var g=e.length,E=v.F.U.rev15,S=0;S<g;S+=2)if(0!=e[S+1])for(var c=e[S+1],o=S>>1<<4|c,p=i-c,_=e[S]<<p,I=_+(1<<p);_!=I;)C[E[_]>>>15-i]=o,_++},v.F.revCodes=function(e,i){for(var C=v.F.U.rev15,g=15-i,E=0;E<e.length;E+=2)e[E]=C[e[E]<<i-e[E+1]]>>>g},v.F._putsE=function(e,i,C){var g=i>>>3;e[g]|=C<<=7&i,e[g+1]|=C>>>8},v.F._putsF=function(e,i,C){var g=i>>>3;e[g]|=C<<=7&i,e[g+1]|=C>>>8,e[g+2]|=C>>>16},v.F._bitsE=function(e,i,C){return(e[i>>>3]|e[1+(i>>>3)]<<8)>>>(7&i)&(1<<C)-1},v.F._bitsF=function(e,i,C){return(e[i>>>3]|e[1+(i>>>3)]<<8|e[2+(i>>>3)]<<16)>>>(7&i)&(1<<C)-1},v.F._get17=function(e,i){return(e[i>>>3]|e[1+(i>>>3)]<<8|e[2+(i>>>3)]<<16)>>>(7&i)},v.F._get25=function(e,i){return(e[i>>>3]|e[1+(i>>>3)]<<8|e[2+(i>>>3)]<<16|e[3+(i>>>3)]<<24)>>>(7&i)},v.F.U=(Z=Uint16Array,K=Uint32Array,{next_code:new Z(16),bl_count:new Z(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new Z(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new K(32),flmap:new Z(512),fltree:[],fdmap:new Z(32),fdtree:[],lmap:new Z(32768),ltree:[],ttree:[],dmap:new Z(32768),dtree:[],imap:new Z(512),itree:[],rev15:new Z(32768),lhst:new K(286),dhst:new K(30),ihst:new K(19),lits:new K(15e3),strt:new Z(65536),prev:new Z(32768)}),function(){for(var e=v.F.U,i=0;i<32768;i++){var C=i;C=(4278255360&(C=(4042322160&(C=(3435973836&(C=(2863311530&C)>>>1|(1431655765&C)<<1))>>>2|(858993459&C)<<2))>>>4|(252645135&C)<<4))>>>8|(16711935&C)<<8,e.rev15[i]=(C>>>16|C<<16)>>>17}function g(E,S,l){for(;0!=S--;)E.push(0,l)}for(i=0;i<32;i++)e.ldef[i]=e.of0[i]<<3|e.exb[i],e.ddef[i]=e.df0[i]<<4|e.dxb[i];g(e.fltree,144,8),g(e.fltree,112,9),g(e.fltree,24,7),g(e.fltree,8,8),v.F.makeCodes(e.fltree,9),v.F.codes2map(e.fltree,9,e.flmap),v.F.revCodes(e.fltree,9),g(e.fdtree,32,5),v.F.makeCodes(e.fdtree,5),v.F.codes2map(e.fdtree,5,e.fdmap),v.F.revCodes(e.fdtree,5),g(e.itree,19,0),g(e.ltree,286,0),g(e.dtree,30,0),g(e.ttree,320,0)}();var Me=function a(W,Z){return Z.forEach(function(K){K&&"string"!=typeof K&&!Array.isArray(K)&&Object.keys(K).forEach(function(v){if("default"!==v&&!(v in W)){var e=Object.getOwnPropertyDescriptor(K,v);Object.defineProperty(W,v,e.get?e:{enumerable:!0,get:function(){return K[v]}})}})}),Object.freeze(W)}({__proto__:null,default:we},[we]);const Et=function(){var W={nextZero(l,c){for(;0!=l[c];)c++;return c},readUshort:(l,c)=>l[c]<<8|l[c+1],writeUshort(l,c,o){l[c]=o>>8&255,l[c+1]=255&o},readUint:(l,c)=>16777216*l[c]+(l[c+1]<<16|l[c+2]<<8|l[c+3]),writeUint(l,c,o){l[c]=o>>24&255,l[c+1]=o>>16&255,l[c+2]=o>>8&255,l[c+3]=255&o},readASCII(l,c,o){let p="";for(let _=0;_<o;_++)p+=String.fromCharCode(l[c+_]);return p},writeASCII(l,c,o){for(let p=0;p<o.length;p++)l[c+p]=o.charCodeAt(p)},readBytes(l,c,o){const p=[];for(let _=0;_<o;_++)p.push(l[c+_]);return p},pad:l=>l.length<2?`0${l}`:l,readUTF8(l,c,o){let p,_="";for(let I=0;I<o;I++)_+=`%${W.pad(l[c+I].toString(16))}`;try{p=decodeURIComponent(_)}catch{return W.readASCII(l,c,o)}return p}};function Z(l,c,o,p){const _=c*o,I=i(p),H=Math.ceil(c*I/8),O=new Uint8Array(4*_),tt=new Uint32Array(O.buffer),{ctype:X}=p,{depth:B}=p,q=W.readUshort;if(6==X){const L=_<<2;if(8==B)for(var M=0;M<L;M+=4)O[M]=l[M],O[M+1]=l[M+1],O[M+2]=l[M+2],O[M+3]=l[M+3];if(16==B)for(M=0;M<L;M++)O[M]=l[M<<1]}else if(2==X){const L=p.tabs.tRNS;if(null==L){if(8==B)for(M=0;M<_;M++){var U=3*M;tt[M]=255<<24|l[U+2]<<16|l[U+1]<<8|l[U]}if(16==B)for(M=0;M<_;M++)tt[M]=255<<24|l[4+(U=6*M)]<<16|l[U+2]<<8|l[U]}else{var f=L[0];const J=L[1],A=L[2];if(8==B)for(M=0;M<_;M++){var b=M<<2;tt[M]=255<<24|l[2+(U=3*M)]<<16|l[U+1]<<8|l[U],l[U]==f&&l[U+1]==J&&l[U+2]==A&&(O[b+3]=0)}if(16==B)for(M=0;M<_;M++)b=M<<2,tt[M]=255<<24|l[4+(U=6*M)]<<16|l[U+2]<<8|l[U],q(l,U)==f&&q(l,U+2)==J&&q(l,U+4)==A&&(O[b+3]=0)}}else if(3==X){const L=p.tabs.PLTE,J=p.tabs.tRNS,A=J?J.length:0;if(1==B)for(var D=0;D<o;D++){var R=D*H,k=D*c;for(M=0;M<c;M++){var N=3*(w=l[R+(M>>3)]>>7-((7&M)<<0)&1);O[b=k+M<<2]=L[N],O[b+1]=L[N+1],O[b+2]=L[N+2],O[b+3]=w<A?J[w]:255}}if(2==B)for(D=0;D<o;D++)for(R=D*H,k=D*c,M=0;M<c;M++)N=3*(w=l[R+(M>>2)]>>6-((3&M)<<1)&3),O[b=k+M<<2]=L[N],O[b+1]=L[N+1],O[b+2]=L[N+2],O[b+3]=w<A?J[w]:255;if(4==B)for(D=0;D<o;D++)for(R=D*H,k=D*c,M=0;M<c;M++)N=3*(w=l[R+(M>>1)]>>4-((1&M)<<2)&15),O[b=k+M<<2]=L[N],O[b+1]=L[N+1],O[b+2]=L[N+2],O[b+3]=w<A?J[w]:255;if(8==B)for(M=0;M<_;M++){var w;N=3*(w=l[M]),O[b=M<<2]=L[N],O[b+1]=L[N+1],O[b+2]=L[N+2],O[b+3]=w<A?J[w]:255}}else if(4==X){if(8==B)for(M=0;M<_;M++){var F=l[y=M<<1];O[b=M<<2]=F,O[b+1]=F,O[b+2]=F,O[b+3]=l[y+1]}if(16==B)for(M=0;M<_;M++){var y;F=l[y=M<<2],O[b=M<<2]=F,O[b+1]=F,O[b+2]=F,O[b+3]=l[y+2]}}else if(0==X)for(f=p.tabs.tRNS?p.tabs.tRNS:-1,D=0;D<o;D++){const L=D*H,J=D*c;if(1==B)for(var d=0;d<c;d++){var V=(F=255*(l[L+(d>>>3)]>>>7-(7&d)&1))==255*f?0:255;tt[J+d]=V<<24|F<<16|F<<8|F}else if(2==B)for(d=0;d<c;d++)V=(F=85*(l[L+(d>>>2)]>>>6-((3&d)<<1)&3))==85*f?0:255,tt[J+d]=V<<24|F<<16|F<<8|F;else if(4==B)for(d=0;d<c;d++)V=(F=17*(l[L+(d>>>1)]>>>4-((1&d)<<2)&15))==17*f?0:255,tt[J+d]=V<<24|F<<16|F<<8|F;else if(8==B)for(d=0;d<c;d++)V=(F=l[L+d])==f?0:255,tt[J+d]=V<<24|F<<16|F<<8|F;else if(16==B)for(d=0;d<c;d++)F=l[L+(d<<1)],V=q(l,L+(d<<1))==f?0:255,tt[J+d]=V<<24|F<<16|F<<8|F}return O}function K(l,c,o,p){const _=i(l),I=Math.ceil(o*_/8),H=new Uint8Array((I+1+l.interlace)*p);return c=l.tabs.CgBI?e(c,H):v(c,H),0==l.interlace?c=C(c,l,0,o,p):1==l.interlace&&(c=function(tt,X){const B=X.width,q=X.height,M=i(X),U=M>>3,f=Math.ceil(B*M/8),b=new Uint8Array(q*f);let D=0;const R=[0,0,4,0,2,0,1],k=[0,4,0,2,0,1,0],N=[8,8,8,4,4,2,2],w=[8,8,4,4,2,2,1];let F=0;for(;F<7;){const d=N[F],V=w[F];let L=0,J=0,A=R[F];for(;A<q;)A+=d,J++;let P=k[F];for(;P<B;)P+=V,L++;const n=Math.ceil(L*M/8);C(tt,X,D,L,J);let h=0,u=R[F];for(;u<q;){let $=k[F],rt=D+h*n<<3;for(;$<B;){var y;if(1==M&&(y=(y=tt[rt>>3])>>7-(7&rt)&1,b[u*f+($>>3)]|=y<<7-((7&$)<<0)),2==M&&(y=(y=tt[rt>>3])>>6-(7&rt)&3,b[u*f+($>>2)]|=y<<6-((3&$)<<1)),4==M&&(y=(y=tt[rt>>3])>>4-(7&rt)&15,b[u*f+($>>1)]|=y<<4-((1&$)<<2)),M>=8){const at=u*f+$*U;for(let ot=0;ot<U;ot++)b[at+ot]=tt[(rt>>3)+ot]}rt+=M,$+=V}h++,u+=d}L*J!=0&&(D+=J*(1+n)),F+=1}return b}(c,l)),c}function v(l,c){return e(new Uint8Array(l.buffer,2,l.length-6),c)}var e=function(){const l={H:{}};return l.H.N=function(c,o){const p=Uint8Array;let _,I,H=0,O=0,tt=0,X=0,B=0,q=0,M=0,U=0,f=0;if(3==c[0]&&0==c[1])return o||new p(0);const b=l.H,D=b.b,R=b.e,k=b.R,N=b.n,w=b.A,F=b.Z,y=b.m,d=null==o;for(d&&(o=new p(c.length>>>2<<5));0==H;)if(H=D(c,f,1),O=D(c,f+1,2),f+=3,0!=O){if(d&&(o=l.H.W(o,U+(1<<17))),1==O&&(_=y.J,I=y.h,q=511,M=31),2==O){tt=R(c,f,5)+257,X=R(c,f+5,5)+1,B=R(c,f+10,4)+4,f+=14;let L=1;for(var V=0;V<38;V+=2)y.Q[V]=0,y.Q[V+1]=0;for(V=0;V<B;V++){const P=R(c,f+3*V,3);y.Q[1+(y.X[V]<<1)]=P,P>L&&(L=P)}f+=3*B,N(y.Q,L),w(y.Q,L,y.u),_=y.w,I=y.d,f=k(y.u,(1<<L)-1,tt+X,c,f,y.v);const J=b.V(y.v,0,tt,y.C);q=(1<<J)-1;const A=b.V(y.v,tt,X,y.D);M=(1<<A)-1,N(y.C,J),w(y.C,J,_),N(y.D,A),w(y.D,A,I)}for(;;){const L=_[F(c,f)&q];f+=15&L;const J=L>>>4;if(J>>>8){if(256==J)break;{let A=U+J-254;if(J>264){const $=y.q[J-257];A=U+($>>>3)+R(c,f,7&$),f+=7&$}const P=I[F(c,f)&M];f+=15&P;const h=y.c[P>>>4],u=(h>>>4)+D(c,f,15&h);for(f+=15&h;U<A;)o[U]=o[U++-u],o[U]=o[U++-u],o[U]=o[U++-u],o[U]=o[U++-u];U=A}}else o[U++]=J}}else{7&f&&(f+=8-(7&f));const L=4+(f>>>3),J=c[L-4]|c[L-3]<<8;d&&(o=l.H.W(o,U+J)),o.set(new p(c.buffer,c.byteOffset+L,J),U),f=L+J<<3,U+=J}return o.length==U?o:o.slice(0,U)},l.H.W=function(c,o){const p=c.length;if(o<=p)return c;const _=new Uint8Array(p<<1);return _.set(c,0),_},l.H.R=function(c,o,p,_,I,H){const O=l.H.e,tt=l.H.Z;let X=0;for(;X<p;){const B=c[tt(_,I)&o];I+=15&B;const q=B>>>4;if(q<=15)H[X]=q,X++;else{let M=0,U=0;16==q?(U=3+O(_,I,2),I+=2,M=H[X-1]):17==q?(U=3+O(_,I,3),I+=3):18==q&&(U=11+O(_,I,7),I+=7);const f=X+U;for(;X<f;)H[X]=M,X++}}return I},l.H.V=function(c,o,p,_){let I=0,H=0;const O=_.length>>>1;for(;H<p;){const tt=c[H+o];_[H<<1]=0,_[1+(H<<1)]=tt,tt>I&&(I=tt),H++}for(;H<O;)_[H<<1]=0,_[1+(H<<1)]=0,H++;return I},l.H.n=function(c,o){const p=l.H.m,_=c.length;let I,H,O,tt;const X=p.j;for(var B=0;B<=o;B++)X[B]=0;for(B=1;B<_;B+=2)X[c[B]]++;const q=p.K;for(I=0,X[0]=0,H=1;H<=o;H++)I=I+X[H-1]<<1,q[H]=I;for(O=0;O<_;O+=2)tt=c[O+1],0!=tt&&(c[O]=q[tt],q[tt]++)},l.H.A=function(c,o,p){const _=c.length,I=l.H.m.r;for(let H=0;H<_;H+=2)if(0!=c[H+1]){const tt=c[H+1],X=H>>1<<4|tt,B=o-tt;let q=c[H]<<B;const M=q+(1<<B);for(;q!=M;)p[I[q]>>>15-o]=X,q++}},l.H.l=function(c,o){const p=l.H.m.r,_=15-o;for(let I=0;I<c.length;I+=2)c[I]=p[c[I]<<o-c[I+1]]>>>_},l.H.M=function(c,o,p){const _=o>>>3;c[_]|=p<<=7&o,c[_+1]|=p>>>8},l.H.I=function(c,o,p){const _=o>>>3;c[_]|=p<<=7&o,c[_+1]|=p>>>8,c[_+2]|=p>>>16},l.H.e=function(c,o,p){return(c[o>>>3]|c[1+(o>>>3)]<<8)>>>(7&o)&(1<<p)-1},l.H.b=function(c,o,p){return(c[o>>>3]|c[1+(o>>>3)]<<8|c[2+(o>>>3)]<<16)>>>(7&o)&(1<<p)-1},l.H.Z=function(c,o){return(c[o>>>3]|c[1+(o>>>3)]<<8|c[2+(o>>>3)]<<16)>>>(7&o)},l.H.i=function(c,o){return(c[o>>>3]|c[1+(o>>>3)]<<8|c[2+(o>>>3)]<<16|c[3+(o>>>3)]<<24)>>>(7&o)},l.H.m=function(){const c=Uint16Array,o=Uint32Array;return{K:new c(16),j:new c(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new c(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new o(32),J:new c(512),_:[],h:new c(32),$:[],w:new c(32768),C:[],v:[],d:new c(32768),D:[],u:new c(512),Q:[],r:new c(32768),s:new o(286),Y:new o(30),a:new o(19),t:new o(15e3),k:new c(65536),g:new c(32768)}}(),function(){const c=l.H.m;for(var o=0;o<32768;o++){let _=o;_=(2863311530&_)>>>1|(1431655765&_)<<1,_=(3435973836&_)>>>2|(858993459&_)<<2,_=(4042322160&_)>>>4|(252645135&_)<<4,_=(4278255360&_)>>>8|(16711935&_)<<8,c.r[o]=(_>>>16|_<<16)>>>17}function p(_,I,H){for(;0!=I--;)_.push(0,H)}for(o=0;o<32;o++)c.q[o]=c.S[o]<<3|c.T[o],c.c[o]=c.p[o]<<4|c.z[o];p(c._,144,8),p(c._,112,9),p(c._,24,7),p(c._,8,8),l.H.n(c._,9),l.H.A(c._,9,c.J),l.H.l(c._,9),p(c.$,32,5),l.H.n(c.$,5),l.H.A(c.$,5,c.h),l.H.l(c.$,5),p(c.Q,19,0),p(c.C,286,0),p(c.D,30,0),p(c.v,320,0)}(),l.H.N}();function i(l){return[1,null,3,1,2,null,4][l.ctype]*l.depth}function C(l,c,o,p,_){let I=i(c);const H=Math.ceil(p*I/8);let O,tt;I=Math.ceil(I/8);let X=l[o],B=0;if(X>1&&(l[o]=[0,0,1][X-2]),3==X)for(B=I;B<H;B++)l[B+1]=l[B+1]+(l[B+1-I]>>>1)&255;for(let q=0;q<_;q++)if(O=o+q*H,tt=O+q+1,X=l[tt-1],B=0,0==X)for(;B<H;B++)l[O+B]=l[tt+B];else if(1==X){for(;B<I;B++)l[O+B]=l[tt+B];for(;B<H;B++)l[O+B]=l[tt+B]+l[O+B-I]}else if(2==X)for(;B<H;B++)l[O+B]=l[tt+B]+l[O+B-H];else if(3==X){for(;B<I;B++)l[O+B]=l[tt+B]+(l[O+B-H]>>>1);for(;B<H;B++)l[O+B]=l[tt+B]+(l[O+B-H]+l[O+B-I]>>>1)}else{for(;B<I;B++)l[O+B]=l[tt+B]+g(0,l[O+B-H],0);for(;B<H;B++)l[O+B]=l[tt+B]+g(l[O+B-I],l[O+B-H],l[O+B-I-H])}return l}function g(l,c,o){const p=l+c-o,_=p-l,I=p-c,H=p-o;return _*_<=I*I&&_*_<=H*H?l:I*I<=H*H?c:o}function E(l,c,o){o.width=W.readUint(l,c),o.height=W.readUint(l,c+=4),o.depth=l[c+=4],c++,o.ctype=l[c],c++,o.compress=l[c],c++,o.filter=l[c],c++,o.interlace=l[c],c++}function S(l,c,o,p,_,I,H,O,tt){const X=Math.min(c,_),B=Math.min(o,I);let q=0,M=0;for(let F=0;F<B;F++)for(let y=0;y<X;y++)if(H>=0&&O>=0?(q=F*c+y<<2,M=(O+F)*_+H+y<<2):(q=(-O+F)*c-H+y<<2,M=F*_+y<<2),0==tt)p[M]=l[q],p[M+1]=l[q+1],p[M+2]=l[q+2],p[M+3]=l[q+3];else if(1==tt){var U=.00392156862745098*l[q+3],f=l[q]*U,b=l[q+1]*U,D=l[q+2]*U,R=p[M+3]*(1/255),k=p[M]*R,N=p[M+1]*R,w=p[M+2]*R;const d=1-U,V=U+R*d,L=0==V?0:1/V;p[M+3]=255*V,p[M+0]=(f+k*d)*L,p[M+1]=(b+N*d)*L,p[M+2]=(D+w*d)*L}else if(2==tt)f=l[q],b=l[q+1],D=l[q+2],k=p[M],N=p[M+1],w=p[M+2],(U=l[q+3])==(R=p[M+3])&&f==k&&b==N&&D==w?(p[M]=0,p[M+1]=0,p[M+2]=0,p[M+3]=0):(p[M]=f,p[M+1]=b,p[M+2]=D,p[M+3]=U);else if(3==tt){if(f=l[q],b=l[q+1],D=l[q+2],k=p[M],N=p[M+1],w=p[M+2],(U=l[q+3])==(R=p[M+3])&&f==k&&b==N&&D==w)continue;if(U<220&&R>20)return!1}return!0}return{decode:function(c){const o=new Uint8Array(c);let p=8;const _=W,I=_.readUshort,H=_.readUint,O={tabs:{},frames:[]},tt=new Uint8Array(o.length);let X,B=0,q=0;const M=[137,80,78,71,13,10,26,10];for(var U=0;U<8;U++)if(o[U]!=M[U])throw"The input is not a PNG file!";for(;p<o.length;){const F=_.readUint(o,p);p+=4;const y=_.readASCII(o,p,4);if(p+=4,"IHDR"==y)E(o,p,O);else if("iCCP"==y){for(var f=p;0!=o[f];)f++;_.readASCII(o,p,f-p);const d=o.slice(f+2,p+F);let V=null;try{V=v(d)}catch{V=e(d)}O.tabs[y]=V}else if("CgBI"==y)O.tabs[y]=o.slice(p,p+4);else if("IDAT"==y){for(U=0;U<F;U++)tt[B+U]=o[p+U];B+=F}else if("acTL"==y)O.tabs[y]={num_frames:H(o,p),num_plays:H(o,p+4)},X=new Uint8Array(o.length);else if("fcTL"==y){0!=q&&((w=O.frames[O.frames.length-1]).data=K(O,X.slice(0,q),w.rect.width,w.rect.height),q=0);const d={x:H(o,p+12),y:H(o,p+16),width:H(o,p+4),height:H(o,p+8)};let V=I(o,p+22);V=I(o,p+20)/(0==V?100:V);const L={rect:d,delay:Math.round(1e3*V),dispose:o[p+24],blend:o[p+25]};O.frames.push(L)}else if("fdAT"==y){for(U=0;U<F-4;U++)X[q+U]=o[p+U+4];q+=F-4}else if("pHYs"==y)O.tabs[y]=[_.readUint(o,p),_.readUint(o,p+4),o[p+8]];else if("cHRM"==y)for(O.tabs[y]=[],U=0;U<8;U++)O.tabs[y].push(_.readUint(o,p+4*U));else if("tEXt"==y||"zTXt"==y){null==O.tabs[y]&&(O.tabs[y]={});var b=_.nextZero(o,p),D=_.readASCII(o,p,b-p),R=p+F-b-1;if("tEXt"==y)N=_.readASCII(o,b+1,R);else{var k=v(o.slice(b+2,b+2+R));N=_.readUTF8(k,0,k.length)}O.tabs[y][D]=N}else if("iTXt"==y){null==O.tabs[y]&&(O.tabs[y]={}),b=0,b=_.nextZero(o,f=p),D=_.readASCII(o,f,b-f);const d=o[f=b+1];var N;b=_.nextZero(o,f+=2),_.readASCII(o,f,b-f),b=_.nextZero(o,f=b+1),_.readUTF8(o,f,b-f),R=F-((f=b+1)-p),0==d?N=_.readUTF8(o,f,R):(k=v(o.slice(f,f+R)),N=_.readUTF8(k,0,k.length)),O.tabs[y][D]=N}else if("PLTE"==y)O.tabs[y]=_.readBytes(o,p,F);else if("hIST"==y){const d=O.tabs.PLTE.length/3;for(O.tabs[y]=[],U=0;U<d;U++)O.tabs[y].push(I(o,p+2*U))}else if("tRNS"==y)3==O.ctype?O.tabs[y]=_.readBytes(o,p,F):0==O.ctype?O.tabs[y]=I(o,p):2==O.ctype&&(O.tabs[y]=[I(o,p),I(o,p+2),I(o,p+4)]);else if("gAMA"==y)O.tabs[y]=_.readUint(o,p)/1e5;else if("sRGB"==y)O.tabs[y]=o[p];else if("bKGD"==y)0==O.ctype||4==O.ctype?O.tabs[y]=[I(o,p)]:2==O.ctype||6==O.ctype?O.tabs[y]=[I(o,p),I(o,p+2),I(o,p+4)]:3==O.ctype&&(O.tabs[y]=o[p]);else if("IEND"==y)break;p+=F,_.readUint(o,p),p+=4}var w;return 0!=q&&((w=O.frames[O.frames.length-1]).data=K(O,X.slice(0,q),w.rect.width,w.rect.height)),O.data=K(O,tt,O.width,O.height),delete O.compress,delete O.interlace,delete O.filter,O},toRGBA8:function(c){const o=c.width,p=c.height;if(null==c.tabs.acTL)return[Z(c.data,o,p,c).buffer];const _=[];null==c.frames[0].data&&(c.frames[0].data=c.data);const I=o*p*4,H=new Uint8Array(I),O=new Uint8Array(I),tt=new Uint8Array(I);for(let B=0;B<c.frames.length;B++){const q=c.frames[B],M=q.rect.x,U=q.rect.y,f=q.rect.width,b=q.rect.height,D=Z(q.data,f,b,c);if(0!=B)for(var X=0;X<I;X++)tt[X]=H[X];if(0==q.blend?S(D,f,b,H,o,p,M,U,0):1==q.blend&&S(D,f,b,H,o,p,M,U,1),_.push(H.buffer.slice(0)),0!=q.dispose)if(1==q.dispose)S(O,f,b,H,o,p,M,U,0);else if(2==q.dispose)for(X=0;X<I;X++)H[X]=tt[X]}return _},_paeth:g,_copyTile:S,_bin:W}}();!function(){const{_copyTile:W}=Et,{_bin:Z}=Et,K=Et._paeth;var v={table:function(){const f=new Uint32Array(256);for(let b=0;b<256;b++){let D=b;for(let R=0;R<8;R++)1&D?D=3988292384^D>>>1:D>>>=1;f[b]=D}return f}(),update(f,b,D,R){for(let k=0;k<R;k++)f=v.table[255&(f^b[D+k])]^f>>>8;return f},crc:(f,b,D)=>4294967295^v.update(4294967295,f,b,D)};function e(f,b,D,R){b[D]+=f[0]*R>>4,b[D+1]+=f[1]*R>>4,b[D+2]+=f[2]*R>>4,b[D+3]+=f[3]*R>>4}function i(f){return Math.max(0,Math.min(255,f))}function C(f,b){const D=f[0]-b[0],R=f[1]-b[1],k=f[2]-b[2],N=f[3]-b[3];return D*D+R*R+k*k+N*N}function g(f,b,D,R,k,N,w){null==w&&(w=1);const F=R.length,y=[];for(var d=0;d<F;d++){const u=R[d];y.push([u>>>0&255,u>>>8&255,u>>>16&255,u>>>24&255])}for(d=0;d<F;d++){let u=4294967295;for(var V=0,L=0;L<F;L++){var J=C(y[d],y[L]);L!=d&&J<u&&(u=J,V=L)}}const A=new Uint32Array(k.buffer),P=new Int16Array(b*D*4),n=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(d=0;d<n.length;d++)n[d]=255*((n[d]+.5)/16-.5);for(let u=0;u<D;u++)for(let $=0;$<b;$++){var h;d=4*(u*b+$),h=2!=w?[i(f[d]+P[d]),i(f[d+1]+P[d+1]),i(f[d+2]+P[d+2]),i(f[d+3]+P[d+3])]:[i(f[d]+(J=n[4*(3&u)+(3&$)])),i(f[d+1]+J),i(f[d+2]+J),i(f[d+3]+J)],V=0;let rt=16777215;for(L=0;L<F;L++){const ht=C(h,y[L]);ht<rt&&(rt=ht,V=L)}const at=y[V],ot=[h[0]-at[0],h[1]-at[1],h[2]-at[2],h[3]-at[3]];1==w&&($!=b-1&&e(ot,P,d+4,7),u!=D-1&&(0!=$&&e(ot,P,d+4*b-4,3),e(ot,P,d+4*b,5),$!=b-1&&e(ot,P,d+4*b+4,1))),N[d>>2]=V,A[d>>2]=R[V]}}function E(f,b,D,R,k){null==k&&(k={});const{crc:N}=v,w=Z.writeUint,F=Z.writeUshort,y=Z.writeASCII;let d=8;const V=f.frames.length>1;let L,J=!1,A=33+(V?20:0);if(null!=k.sRGB&&(A+=13),null!=k.pHYs&&(A+=21),null!=k.iCCP&&(L=pako.deflate(k.iCCP),A+=21+L.length+4),3==f.ctype){for(var P=f.plte.length,n=0;n<P;n++)f.plte[n]>>>24!=255&&(J=!0);A+=8+3*P+4+(J?8+1*P+4:0)}for(var h=0;h<f.frames.length;h++)V&&(A+=38),A+=(at=f.frames[h]).cimg.length+12,0!=h&&(A+=4);A+=12;const u=new Uint8Array(A),$=[137,80,78,71,13,10,26,10];for(n=0;n<8;n++)u[n]=$[n];if(w(u,d,13),d+=4,y(u,d,"IHDR"),d+=4,w(u,d,b),d+=4,w(u,d,D),d+=4,u[d]=f.depth,d++,u[d]=f.ctype,d++,u[d]=0,d++,u[d]=0,d++,u[d]=0,d++,w(u,d,N(u,d-17,17)),d+=4,null!=k.sRGB&&(w(u,d,1),d+=4,y(u,d,"sRGB"),d+=4,u[d]=k.sRGB,d++,w(u,d,N(u,d-5,5)),d+=4),null!=k.iCCP){const ot=13+L.length;w(u,d,ot),d+=4,y(u,d,"iCCP"),d+=4,y(u,d,"ICC profile"),d+=11,d+=2,u.set(L,d),d+=L.length,w(u,d,N(u,d-(ot+4),ot+4)),d+=4}if(null!=k.pHYs&&(w(u,d,9),d+=4,y(u,d,"pHYs"),d+=4,w(u,d,k.pHYs[0]),d+=4,w(u,d,k.pHYs[1]),d+=4,u[d]=k.pHYs[2],d++,w(u,d,N(u,d-13,13)),d+=4),V&&(w(u,d,8),d+=4,y(u,d,"acTL"),d+=4,w(u,d,f.frames.length),d+=4,w(u,d,null!=k.loop?k.loop:0),d+=4,w(u,d,N(u,d-12,12)),d+=4),3==f.ctype){for(w(u,d,3*(P=f.plte.length)),d+=4,y(u,d,"PLTE"),d+=4,n=0;n<P;n++){const ot=3*n,ht=f.plte[n],dt=ht>>>8&255,re=ht>>>16&255;u[d+ot+0]=255&ht,u[d+ot+1]=dt,u[d+ot+2]=re}if(d+=3*P,w(u,d,N(u,d-3*P-4,3*P+4)),d+=4,J){for(w(u,d,P),d+=4,y(u,d,"tRNS"),d+=4,n=0;n<P;n++)u[d+n]=f.plte[n]>>>24&255;d+=P,w(u,d,N(u,d-P-4,P+4)),d+=4}}let rt=0;for(h=0;h<f.frames.length;h++){var at=f.frames[h];V&&(w(u,d,26),d+=4,y(u,d,"fcTL"),d+=4,w(u,d,rt++),d+=4,w(u,d,at.rect.width),d+=4,w(u,d,at.rect.height),d+=4,w(u,d,at.rect.x),d+=4,w(u,d,at.rect.y),d+=4,F(u,d,R[h]),d+=2,F(u,d,1e3),d+=2,u[d]=at.dispose,d++,u[d]=at.blend,d++,w(u,d,N(u,d-30,30)),d+=4);const ot=at.cimg;w(u,d,(P=ot.length)+(0==h?0:4)),d+=4;const ht=d;y(u,d,0==h?"IDAT":"fdAT"),d+=4,0!=h&&(w(u,d,rt++),d+=4),u.set(ot,d),d+=P,w(u,d,N(u,ht,d-ht)),d+=4}return w(u,d,0),d+=4,y(u,d,"IEND"),d+=4,w(u,d,N(u,d-4,4)),d+=4,u.buffer}function S(f,b,D){for(let R=0;R<f.frames.length;R++){const k=f.frames[R],N=k.rect.height,w=new Uint8Array(N*k.bpl+N);k.cimg=p(k.img,N,k.bpp,k.bpl,w,b,D)}}function l(f,b,D,R,k){const N=k[0],w=k[1],F=k[2],y=k[3],d=k[4],V=k[5];let L=6,J=8,A=255;for(var P=0;P<f.length;P++){const _t=new Uint8Array(f[P]);for(var n=_t.length,h=0;h<n;h+=4)A&=_t[h+3]}const u=255!=A,$=function(Ct,yt,Tt,It,zt,Wt){const wt=[];for(var bt=0;bt<Ct.length;bt++){const Ft=new Uint8Array(Ct[bt]),Jt=new Uint32Array(Ft.buffer);var Zt;let Xt=0,qt=0,m=yt,t=Tt,s=It?1:0;if(0!=bt){const r=Wt||It||1==bt||0!=wt[bt-2].dispose?1:2;let T=0,z=1e9;for(let x=0;x<r;x++){var se=new Uint8Array(Ct[bt-1-x]);const Y=new Uint32Array(Ct[bt-1-x]);let et=yt,G=Tt,Q=-1,j=-1;for(let ct=0;ct<Tt;ct++)for(let st=0;st<yt;st++)Jt[kt=ct*yt+st]!=Y[kt]&&(st<et&&(et=st),st>Q&&(Q=st),ct<G&&(G=ct),ct>j&&(j=ct));-1==Q&&(et=G=Q=j=0),zt&&(1==(1&et)&&et--,1==(1&G)&&G--);const nt=(Q-et+1)*(j-G+1);nt<z&&(z=nt,T=x,Xt=et,qt=G,m=Q-et+1,t=j-G+1)}se=new Uint8Array(Ct[bt-1-T]),1==T&&(wt[bt-1].dispose=2),Zt=new Uint8Array(m*t*4),W(se,yt,Tt,Zt,m,t,-Xt,-qt,0),s=W(Ft,yt,Tt,Zt,m,t,-Xt,-qt,3)?1:0,1==s?o(Ft,yt,Tt,Zt,{x:Xt,y:qt,width:m,height:t}):W(Ft,yt,Tt,Zt,m,t,-Xt,-qt,0)}else Zt=Ft.slice(0);wt.push({rect:{x:Xt,y:qt,width:m,height:t},img:Zt,blend:s,dispose:0})}if(It)for(bt=0;bt<wt.length;bt++){if(1==(de=wt[bt]).blend)continue;const Ft=de.rect,Jt=wt[bt-1].rect,Xt=Math.min(Ft.x,Jt.x),qt=Math.min(Ft.y,Jt.y),m={x:Xt,y:qt,width:Math.max(Ft.x+Ft.width,Jt.x+Jt.width)-Xt,height:Math.max(Ft.y+Ft.height,Jt.y+Jt.height)-qt};wt[bt-1].dispose=1,bt-1!=0&&c(Ct,yt,Tt,wt,bt-1,m,zt),c(Ct,yt,Tt,wt,bt,m,zt)}let Oe=0;if(1!=Ct.length)for(var kt=0;kt<wt.length;kt++){var de;Oe+=(de=wt[kt]).rect.width*de.rect.height}return wt}(f,b,D,N,w,F),rt={},at=[],ot=[];if(0!=R){const _t=[];for(h=0;h<$.length;h++)_t.push($[h].img.buffer);const yt=I(function(zt){let Wt=0;for(var wt=0;wt<zt.length;wt++)Wt+=zt[wt].byteLength;const bt=new Uint8Array(Wt);let Zt=0;for(wt=0;wt<zt.length;wt++){const se=new Uint8Array(zt[wt]),Oe=se.length;for(let kt=0;kt<Oe;kt+=4){let de=se[kt],Ft=se[kt+1],Jt=se[kt+2];const Xt=se[kt+3];0==Xt&&(de=Ft=Jt=0),bt[Zt+kt]=de,bt[Zt+kt+1]=Ft,bt[Zt+kt+2]=Jt,bt[Zt+kt+3]=Xt}Zt+=Oe}return bt.buffer}(_t),R);for(h=0;h<yt.plte.length;h++)at.push(yt.plte[h].est.rgba);let Tt=0;for(h=0;h<$.length;h++){const It=(ft=$[h]).img.length;var ht=new Uint8Array(yt.inds.buffer,Tt>>2,It>>2);ot.push(ht);const zt=new Uint8Array(yt.abuf,Tt,It);V&&g(ft.img,ft.rect.width,ft.rect.height,at,zt,ht),ft.img.set(zt),Tt+=It}}else for(P=0;P<$.length;P++){var ft=$[P];const _t=new Uint32Array(ft.img.buffer);var dt=ft.rect.width;for(n=_t.length,ht=new Uint8Array(n),ot.push(ht),h=0;h<n;h++){const Ct=_t[h];if(0!=h&&Ct==_t[h-1])ht[h]=ht[h-1];else if(h>dt&&Ct==_t[h-dt])ht[h]=ht[h-dt];else{let yt=rt[Ct];if(null==yt&&(rt[Ct]=yt=at.length,at.push(Ct),at.length>=300))break;ht[h]=yt}}}const re=at.length;for(re<=256&&0==d&&(J=re<=2?1:re<=4?2:re<=16?4:8,J=Math.max(J,y)),P=0;P<$.length;P++){dt=(ft=$[P]).rect.width;const _t=ft.rect.height;let Ct=ft.img;new Uint32Array(Ct.buffer);let yt=4*dt,Tt=4;if(re<=256&&0==d){yt=Math.ceil(J*dt/8);var jt=new Uint8Array(yt*_t);const It=ot[P];for(let zt=0;zt<_t;zt++){h=zt*yt;const Wt=zt*dt;if(8==J)for(var At=0;At<dt;At++)jt[h+At]=It[Wt+At];else if(4==J)for(At=0;At<dt;At++)jt[h+(At>>1)]|=It[Wt+At]<<4-4*(1&At);else if(2==J)for(At=0;At<dt;At++)jt[h+(At>>2)]|=It[Wt+At]<<6-2*(3&At);else if(1==J)for(At=0;At<dt;At++)jt[h+(At>>3)]|=It[Wt+At]<<7-1*(7&At)}Ct=jt,L=3,Tt=1}else if(0==u&&1==$.length){jt=new Uint8Array(dt*_t*3);const It=dt*_t;for(h=0;h<It;h++){const zt=3*h,Wt=4*h;jt[zt]=Ct[Wt],jt[zt+1]=Ct[Wt+1],jt[zt+2]=Ct[Wt+2]}Ct=jt,L=2,Tt=3,yt=3*dt}ft.img=Ct,ft.bpl=yt,ft.bpp=Tt}return{ctype:L,depth:J,plte:at,frames:$}}function c(f,b,D,R,k,N,w){const F=Uint8Array,y=Uint32Array,d=new F(f[k-1]),V=new y(f[k-1]),L=k+1<f.length?new F(f[k+1]):null,J=new F(f[k]),A=new y(J.buffer);let P=b,n=D,h=-1,u=-1;for(let rt=0;rt<N.height;rt++)for(let at=0;at<N.width;at++){const ot=N.x+at,ht=N.y+rt,ft=ht*b+ot,dt=A[ft];0==dt||0==R[k-1].dispose&&V[ft]==dt&&(null==L||0!=L[4*ft+3])||(ot<P&&(P=ot),ot>h&&(h=ot),ht<n&&(n=ht),ht>u&&(u=ht))}-1==h&&(P=n=h=u=0),w&&(1==(1&P)&&P--,1==(1&n)&&n--);const $=R[k];$.rect=N={x:P,y:n,width:h-P+1,height:u-n+1},$.blend=1,$.img=new Uint8Array(N.width*N.height*4),0==R[k-1].dispose?(W(d,b,D,$.img,N.width,N.height,-N.x,-N.y,0),o(J,b,D,$.img,N)):W(J,b,D,$.img,N.width,N.height,-N.x,-N.y,0)}function o(f,b,D,R,k){W(f,b,D,R,k.width,k.height,-k.x,-k.y,2)}function p(f,b,D,R,k,N,w){const F=[];let y,d=[0,1,2,3,4];-1!=N?d=[N]:(b*R>5e5||1==D)&&(d=[0]),w&&(y={level:0});const V=Me;for(var L=0;L<d.length;L++){for(let P=0;P<b;P++)_(k,f,P,R,D,d[L]);F.push(V.deflate(k,y))}let J,A=1e9;for(L=0;L<F.length;L++)F[L].length<A&&(J=L,A=F[L].length);return F[J]}function _(f,b,D,R,k,N){const w=D*R;let F=w+D;if(f[F]=N,F++,0==N)if(R<500)for(var y=0;y<R;y++)f[F+y]=b[w+y];else f.set(new Uint8Array(b.buffer,w,R),F);else if(1==N){for(y=0;y<k;y++)f[F+y]=b[w+y];for(y=k;y<R;y++)f[F+y]=b[w+y]-b[w+y-k]+256&255}else if(0==D){for(y=0;y<k;y++)f[F+y]=b[w+y];if(2==N)for(y=k;y<R;y++)f[F+y]=b[w+y];if(3==N)for(y=k;y<R;y++)f[F+y]=b[w+y]-(b[w+y-k]>>1)+256&255;if(4==N)for(y=k;y<R;y++)f[F+y]=b[w+y]-K(b[w+y-k],0,0)+256&255}else{if(2==N)for(y=0;y<R;y++)f[F+y]=b[w+y]+256-b[w+y-R]&255;if(3==N){for(y=0;y<k;y++)f[F+y]=b[w+y]+256-(b[w+y-R]>>1)&255;for(y=k;y<R;y++)f[F+y]=b[w+y]+256-(b[w+y-R]+b[w+y-k]>>1)&255}if(4==N){for(y=0;y<k;y++)f[F+y]=b[w+y]+256-K(0,b[w+y-R],0)&255;for(y=k;y<R;y++)f[F+y]=b[w+y]+256-K(b[w+y-k],b[w+y-R],b[w+y-k-R])&255}}}function I(f,b){const D=new Uint8Array(f),R=D.slice(0),k=new Uint32Array(R.buffer),N=H(R,b),w=N[0],F=N[1],y=D.length,d=new Uint8Array(y>>2);let V;if(D.length<2e7)for(var L=0;L<y;L+=4)V=O(w,J=D[L]*(1/255),A=D[L+1]*(1/255),P=D[L+2]*(1/255),n=D[L+3]*(1/255)),d[L>>2]=V.ind,k[L>>2]=V.est.rgba;else for(L=0;L<y;L+=4){var J=.00392156862745098*D[L],A=D[L+1]*(1/255),P=D[L+2]*(1/255),n=D[L+3]*(1/255);for(V=w;V.left;)V=tt(V.est,J,A,P,n)<=0?V.left:V.right;d[L>>2]=V.ind,k[L>>2]=V.est.rgba}return{abuf:R.buffer,inds:d,plte:F}}function H(f,b,D){null==D&&(D=1e-4);const R=new Uint32Array(f.buffer),k={i0:0,i1:f.length,bst:null,est:null,tdst:0,left:null,right:null};k.bst=q(f,k.i0,k.i1),k.est=M(k.bst);const N=[k];for(;N.length<b;){let F=0,y=0;for(var w=0;w<N.length;w++)N[w].est.L>F&&(F=N[w].est.L,y=w);if(F<D)break;const d=N[y],V=X(f,R,d.i0,d.i1,d.est.e,d.est.eMq255);if(d.i0>=V||d.i1<=V){d.est.L=0;continue}const L={i0:d.i0,i1:V,bst:null,est:null,tdst:0,left:null,right:null};L.bst=q(f,L.i0,L.i1),L.est=M(L.bst);const J={i0:V,i1:d.i1,bst:null,est:null,tdst:0,left:null,right:null};for(J.bst={R:[],m:[],N:d.bst.N-L.bst.N},w=0;w<16;w++)J.bst.R[w]=d.bst.R[w]-L.bst.R[w];for(w=0;w<4;w++)J.bst.m[w]=d.bst.m[w]-L.bst.m[w];J.est=M(J.bst),d.left=L,d.right=J,N[y]=L,N.push(J)}for(N.sort((F,y)=>y.bst.N-F.bst.N),w=0;w<N.length;w++)N[w].ind=w;return[k,N]}function O(f,b,D,R,k){if(null==f.left)return f.tdst=function(L,J,A,P,n){const h=J-L[0],u=A-L[1],$=P-L[2],rt=n-L[3];return h*h+u*u+$*$+rt*rt}(f.est.q,b,D,R,k),f;const N=tt(f.est,b,D,R,k);let w=f.left,F=f.right;N>0&&(w=f.right,F=f.left);const y=O(w,b,D,R,k);if(y.tdst<=N*N)return y;const d=O(F,b,D,R,k);return d.tdst<y.tdst?d:y}function tt(f,b,D,R,k){const{e:N}=f;return N[0]*b+N[1]*D+N[2]*R+N[3]*k-f.eMq}function X(f,b,D,R,k,N){for(R-=4;D<R;){for(;B(f,D,k)<=N;)D+=4;for(;B(f,R,k)>N;)R-=4;if(D>=R)break;const w=b[D>>2];b[D>>2]=b[R>>2],b[R>>2]=w,D+=4,R-=4}for(;B(f,D,k)>N;)D-=4;return D+4}function B(f,b,D){return f[b]*D[0]+f[b+1]*D[1]+f[b+2]*D[2]+f[b+3]*D[3]}function q(f,b,D){const R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],k=[0,0,0,0],N=D-b>>2;for(let w=b;w<D;w+=4){const F=.00392156862745098*f[w],y=f[w+1]*(1/255),d=f[w+2]*(1/255),V=f[w+3]*(1/255);k[0]+=F,k[1]+=y,k[2]+=d,k[3]+=V,R[0]+=F*F,R[1]+=F*y,R[2]+=F*d,R[3]+=F*V,R[5]+=y*y,R[6]+=y*d,R[7]+=y*V,R[10]+=d*d,R[11]+=d*V,R[15]+=V*V}return R[4]=R[1],R[8]=R[2],R[9]=R[6],R[12]=R[3],R[13]=R[7],R[14]=R[11],{R,m:k,N}}function M(f){const{R:b}=f,{m:D}=f,{N:R}=f,k=D[0],N=D[1],w=D[2],F=D[3],y=0==R?0:1/R,d=[b[0]-k*k*y,b[1]-k*N*y,b[2]-k*w*y,b[3]-k*F*y,b[4]-N*k*y,b[5]-N*N*y,b[6]-N*w*y,b[7]-N*F*y,b[8]-w*k*y,b[9]-w*N*y,b[10]-w*w*y,b[11]-w*F*y,b[12]-F*k*y,b[13]-F*N*y,b[14]-F*w*y,b[15]-F*F*y],V=d,L=U;let J=[Math.random(),Math.random(),Math.random(),Math.random()],A=0,P=0;if(0!=R)for(let h=0;h<16&&(J=L.multVec(V,J),P=Math.sqrt(L.dot(J,J)),J=L.sml(1/P,J),!(0!=h&&Math.abs(P-A)<1e-9));h++)A=P;const n=[k*y,N*y,w*y,F*y];return{Cov:d,q:n,e:J,L:A,eMq255:L.dot(L.sml(255,n),J),eMq:L.dot(J,n),rgba:(Math.round(255*n[3])<<24|Math.round(255*n[2])<<16|Math.round(255*n[1])<<8|Math.round(255*n[0])<<0)>>>0}}var U={multVec:(f,b)=>[f[0]*b[0]+f[1]*b[1]+f[2]*b[2]+f[3]*b[3],f[4]*b[0]+f[5]*b[1]+f[6]*b[2]+f[7]*b[3],f[8]*b[0]+f[9]*b[1]+f[10]*b[2]+f[11]*b[3],f[12]*b[0]+f[13]*b[1]+f[14]*b[2]+f[15]*b[3]],dot:(f,b)=>f[0]*b[0]+f[1]*b[1]+f[2]*b[2]+f[3]*b[3],sml:(f,b)=>[f*b[0],f*b[1],f*b[2],f*b[3]]};Et.encode=function(b,D,R,k,N,w,F){null==k&&(k=0),null==F&&(F=!1);const y=l(b,D,R,k,[!1,!1,!1,0,F,!1]);return S(y,-1),E(y,D,R,N,w)},Et.encodeLL=function(b,D,R,k,N,w,F,y){const d={ctype:0+(1==k?0:2)+(0==N?0:4),depth:w,frames:[]},V=(k+N)*w,L=V*D;for(let J=0;J<b.length;J++)d.frames.push({rect:{x:0,y:0,width:D,height:R},img:new Uint8Array(b[J]),blend:0,dispose:1,bpp:Math.ceil(V/8),bpl:Math.ceil(L/8)});return S(d,0,!0),E(d,D,R,F,y)},Et.encode.compress=l,Et.encode.dither=g,Et.quantize=I,Et.quantize.getKDtree=H,Et.quantize.getNearest=O}();const He={toArrayBuffer(W,Z){const K=W.width,v=W.height,e=K<<2,i=W.getContext("2d").getImageData(0,0,K,v),C=new Uint32Array(i.data.buffer),g=(32*K+31)/32<<2,E=g*v,S=122+E,l=new ArrayBuffer(S),c=new DataView(l),o=1<<20;let p,_,I,H,O=o,tt=0,X=0,B=0;function q(f){c.setUint16(X,f,!0),X+=2}function M(f){c.setUint32(X,f,!0),X+=4}function U(f){X+=f}q(19778),M(S),U(4),M(122),M(108),M(K),M(-v>>>0),q(1),q(32),M(3),M(E),M(2835),M(2835),U(8),M(16711680),M(65280),M(255),M(4278190080),M(1466527264),function f(){for(;tt<v&&O>0;){for(H=122+tt*g,p=0;p<e;)O--,_=C[B++],I=_>>>24,c.setUint32(H+p,_<<8|I),p+=4;tt++}B<C.length?(O=o,setTimeout(f,He._dly)):Z(l)}()},toBlob(W,Z){this.toArrayBuffer(W,K=>{Z(new Blob([K],{type:"image/bmp"}))})},_dly:9};var Ut={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},ut={[Ut.CHROME]:16384,[Ut.FIREFOX]:11180,[Ut.DESKTOP_SAFARI]:16384,[Ut.IE]:8192,[Ut.IOS]:4096,[Ut.ETC]:8192};const Rt=typeof window<"u",Pt=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Qt=Rt&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),ue=(Rt||Pt)&&(Qt&&Qt.getOriginalSymbol(window,"File")||typeof File<"u"&&File),mt=(Rt||Pt)&&(Qt&&Qt.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Ce(W,Z,K=Date.now()){return new Promise(v=>{const e=W.split(","),i=e[0].match(/:(.*?);/)[1],C=globalThis.atob(e[1]);let g=C.length;const E=new Uint8Array(g);for(;g--;)E[g]=C.charCodeAt(g);const S=new Blob([E],{type:i});S.name=Z,S.lastModified=K,v(S)})}function Dt(W){return new Promise((Z,K)=>{const v=new mt;v.onload=()=>Z(v.result),v.onerror=e=>K(e),v.readAsDataURL(W)})}function _e(W){return new Promise((Z,K)=>{const v=new Image;v.onload=()=>Z(v),v.onerror=e=>K(e),v.src=W})}function ce(){if(void 0!==ce.cachedResult)return ce.cachedResult;let W=Ut.ETC;const{userAgent:Z}=navigator;return/Chrom(e|ium)/i.test(Z)?W=Ut.CHROME:/iP(ad|od|hone)/i.test(Z)&&/WebKit/i.test(Z)?W=Ut.IOS:/Safari/i.test(Z)?W=Ut.DESKTOP_SAFARI:/Firefox/i.test(Z)?W=Ut.FIREFOX:(/MSIE/i.test(Z)||document.documentMode)&&(W=Ut.IE),ce.cachedResult=W}function he(W,Z){const K=ce(),v=ut[K];let e=W,i=Z,C=e*i;const g=e>i?i/e:e/i;for(;C>v*v;){const E=(v+e)/2,S=(v+i)/2;E<S?(i=S,e=S*g):(i=E*g,e=E),C=e*i}return{width:e,height:i}}function ne(W,Z){let K,v;try{if(K=new OffscreenCanvas(W,Z),v=K.getContext("2d"),null===v)throw new Error("getContext of OffscreenCanvas returns null")}catch{K=document.createElement("canvas"),v=K.getContext("2d")}return K.width=W,K.height=Z,[K,v]}function pe(W,Z){const{width:K,height:v}=he(W.width,W.height),[e,i]=ne(K,v);return Z&&/jpe?g/.test(Z)&&(i.fillStyle="white",i.fillRect(0,0,e.width,e.height)),i.drawImage(W,0,0,e.width,e.height),e}function Kt(){return void 0!==Kt.cachedResult||(Kt.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Kt.cachedResult}function ie(W,Z={}){return new Promise(function(K,v){let e,i;var C=function(){try{return i=pe(e,Z.fileType||W.type),K([e,i])}catch(E){return v(E)}},g=function(E){try{var S=function(l){try{throw l}catch(c){return v(c)}};try{let l;return Dt(W).then(function(c){try{return l=c,_e(l).then(function(o){try{return e=o,function(){try{return C()}catch(p){return v(p)}}()}catch(p){return S(p)}},S)}catch(o){return S(o)}},S)}catch(l){S(l)}}catch(l){return v(l)}};try{if(Kt()||[Ut.DESKTOP_SAFARI,Ut.MOBILE_SAFARI].includes(ce()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(W).then(function(E){try{return e=E,C()}catch{return g()}},g)}catch{g()}})}function xt(W,Z,K,v,e=1){return new Promise(function(i,C){let g;if("image/png"===Z){let S,l,c;return S=W.getContext("2d"),({data:l}=S.getImageData(0,0,W.width,W.height)),c=Et.encode([l.buffer],W.width,W.height,4096*e),g=new Blob([c],{type:Z}),g.name=K,g.lastModified=v,E.call(this)}{let S=function(){return E.call(this)};if("image/bmp"===Z)return new Promise(l=>He.toBlob(W,l)).then(function(l){try{return g=l,g.name=K,g.lastModified=v,S.call(this)}catch(c){return C(c)}}.bind(this),C);{let l=function(){return S.call(this)};if("function"==typeof OffscreenCanvas&&W instanceof OffscreenCanvas)return W.convertToBlob({type:Z,quality:e}).then(function(c){try{return g=c,g.name=K,g.lastModified=v,l.call(this)}catch(o){return C(o)}}.bind(this),C);{let c;return c=W.toDataURL(Z,e),Ce(c,K,v).then(function(o){try{return g=o,l.call(this)}catch(p){return C(p)}}.bind(this),C)}}}function E(){return i(g)}})}function Ht(W){W.width=0,W.height=0}function $t(){return new Promise(function(W,Z){let K,v,e,i,C;return void 0!==$t.cachedResult?W($t.cachedResult):(K="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==",Ce("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(g){try{return v=g,ie(v).then(function(E){try{return e=E[1],xt(e,v.type,v.name,v.lastModified).then(function(S){try{return i=S,Ht(e),ie(i).then(function(l){try{return C=l[0],W($t.cachedResult=1===C.width&&2===C.height)}catch(c){return Z(c)}},Z)}catch(l){return Z(l)}},Z)}catch(S){return Z(S)}},Z)}catch(E){return Z(E)}},Z))})}function ge(W){return new Promise((Z,K)=>{const v=new mt;v.onload=e=>{const i=new DataView(e.target.result);if(65496!=i.getUint16(0,!1))return Z(-2);const C=i.byteLength;let g=2;for(;g<C;){if(i.getUint16(g+2,!1)<=8)return Z(-1);const E=i.getUint16(g,!1);if(g+=2,65505==E){if(1165519206!=i.getUint32(g+=2,!1))return Z(-1);const S=18761==i.getUint16(g+=6,!1);g+=i.getUint32(g+4,S);const l=i.getUint16(g,S);g+=2;for(let c=0;c<l;c++)if(274==i.getUint16(g+12*c,S))return Z(i.getUint16(g+12*c+8,S))}else{if(65280!=(65280&E))break;g+=i.getUint16(g,!1)}}return Z(-1)},v.onerror=e=>K(e),v.readAsArrayBuffer(W)})}function xe(W,Z){const{width:K}=W,{height:v}=W,{maxWidthOrHeight:e}=Z;let i,C=W;return isFinite(e)&&(K>e||v>e)&&([C,i]=ne(K,v),K>v?(C.width=e,C.height=v/K*e):(C.width=K/v*e,C.height=e),i.drawImage(W,0,0,C.width,C.height),Ht(W)),C}function Ot(W,Z){const{width:K}=W,{height:v}=W,[e,i]=ne(K,v);switch(Z>4&&Z<9?(e.width=v,e.height=K):(e.width=K,e.height=v),Z){case 2:i.transform(-1,0,0,1,K,0);break;case 3:i.transform(-1,0,0,-1,K,v);break;case 4:i.transform(1,0,0,-1,0,v);break;case 5:i.transform(0,1,1,0,0,0);break;case 6:i.transform(0,1,-1,0,v,0);break;case 7:i.transform(0,-1,-1,0,v,K);break;case 8:i.transform(0,-1,1,0,0,K)}return i.drawImage(W,0,0,K,v),Ht(W),e}function Te(W,Z,K=0){return new Promise(function(v,e){let i,C,g,E,S,l,c,o,p,_,I,H,O,tt,X,B,q,M,U,f;function b(R=5){if(Z.signal&&Z.signal.aborted)throw Z.signal.reason;i+=R,Z.onProgress(Math.min(i,100))}function D(R){if(Z.signal&&Z.signal.aborted)throw Z.signal.reason;i=Math.min(Math.max(R,i),100),Z.onProgress(i)}return i=K,C=Z.maxIteration||10,g=1024*Z.maxSizeMB*1024,b(),ie(W,Z).then(function(R){try{return[,E]=R,b(),S=xe(E,Z),b(),new Promise(function(k,N){var w;if(!(w=Z.exifOrientation))return ge(W).then(function(y){try{return w=y,F.call(this)}catch(d){return N(d)}}.bind(this),N);function F(){return k(w)}return F.call(this)}).then(function(k){try{return l=k,b(),$t().then(function(N){try{return c=N?S:Ot(S,l),b(),o=Z.initialQuality||1,p=Z.fileType||W.type,xt(c,p,W.name,W.lastModified,o).then(function(w){try{{let y=function(){if(C--&&(X>g||X>O)){let V,L;return V=f?.95*U.width:U.width,L=f?.95*U.height:U.height,[q,M]=ne(V,L),M.drawImage(U,0,0,V,L),o*="image/png"===p?.85:.95,xt(q,p,W.name,W.lastModified,o).then(function(J){try{return B=J,Ht(U),U=q,X=B.size,D(Math.min(99,Math.floor((tt-X)/(tt-g)*100))),y}catch(A){return e(A)}},e)}return[1]},d=function(){return Ht(U),Ht(q),Ht(S),Ht(c),Ht(E),D(100),v(B)};return _=w,b(),I=_.size>g,H=_.size>W.size,I||H?(O=W.size,tt=_.size,X=tt,U=c,f=!Z.alwaysKeepResolution&&I,(F=function(V){for(;V;){if(V.then)return void V.then(F,e);try{if(V.pop){if(V.length)return V.pop()?d.call(this):V;V=y}else V=V.call(this)}catch(L){return e(L)}}}.bind(this))(y)):(D(100),v(_));var F}}catch(y){return e(y)}}.bind(this),e)}catch(w){return e(w)}}.bind(this),e)}catch(N){return e(N)}}.bind(this),e)}catch(k){return e(k)}}.bind(this),e)})}let me;function vt(W,Z){return new Promise(function(K,v){let e,i,C,g,E,S;if(e={...Z},C=0,({onProgress:g}=e),e.maxSizeMB=e.maxSizeMB||Number.POSITIVE_INFINITY,E="boolean"!=typeof e.useWebWorker||e.useWebWorker,delete e.useWebWorker,e.onProgress=p=>{C=p,"function"==typeof g&&g(C)},!(W instanceof Blob||W instanceof ue))return v(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(W.type))return v(new Error("The file given is not an image"));if(S=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!E||"function"!=typeof Worker||S)return Te(W,e).then(function(p){try{return i=p,o.call(this)}catch(_){return v(_)}}.bind(this),v);var l=function(){try{return o.call(this)}catch(p){return v(p)}}.bind(this),c=function(p){try{return Te(W,e).then(function(_){try{return i=_,l()}catch(I){return v(I)}},v)}catch(_){return v(_)}};try{return e.libURL=e.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",function Nt(W,Z){return new Promise((K,v)=>{me||(me=function(C){const g=[];return g.push(C),URL.createObjectURL(new Blob(g))}("\nlet scriptImported = false\nself.addEventListener('message', async (e) => {\n  const { file, id, imageCompressionLibUrl, options } = e.data\n  options.onProgress = (progress) => self.postMessage({ progress, id })\n  try {\n    if (!scriptImported) {\n      // console.log('[worker] importScripts', imageCompressionLibUrl)\n      self.importScripts(imageCompressionLibUrl)\n      scriptImported = true\n    }\n    // console.log('[worker] self', self)\n    const compressedFile = await imageCompression(file, options)\n    self.postMessage({ file: compressedFile, id })\n  } catch (e) {\n    // console.error('[worker] error', e)\n    self.postMessage({ error: e.message + '\\n' + e.stack, id })\n  }\n})\n"));const e=new Worker(me);e.addEventListener("message",function(C){if(Z.signal&&Z.signal.aborted)e.terminate();else if(void 0===C.data.progress){if(C.data.error)return v(new Error(C.data.error)),void e.terminate();K(C.data.file),e.terminate()}else Z.onProgress(C.data.progress)}),e.addEventListener("error",v),Z.signal&&Z.signal.addEventListener("abort",()=>{v(Z.signal.reason),e.terminate()}),e.postMessage({file:W,imageCompressionLibUrl:Z.libURL,options:{...Z,onProgress:void 0,signal:void 0}})})}(W,e).then(function(p){try{return i=p,l()}catch{return c()}},c)}catch{c()}function o(){try{i.name=W.name,i.lastModified=W.lastModified}catch{}try{e.preserveExif&&"image/jpeg"===W.type&&(!e.fileType||e.fileType&&e.fileType===W.type)&&(i=oe(W,i))}catch{}return K(i)}})}vt.getDataUrlFromFile=Dt,vt.getFilefromDataUrl=Ce,vt.loadImage=_e,vt.drawImageInCanvas=pe,vt.drawFileInCanvas=ie,vt.canvasToFile=xt,vt.getExifOrientation=ge,vt.handleMaxWidthOrHeight=xe,vt.followExifOrientation=Ot,vt.cleanupCanvasMemory=Ht,vt.isAutoOrientationInBrowser=$t,vt.approximateBelowMaximumCanvasSizeOfBrowser=he,vt.copyExifWithoutOrientation=oe,vt.getBrowserName=ce,vt.version="2.0.2";var Ee=lt(8839);const fe="image/png",Ne=new Ee.X(0);function De(W){Ne.next(W)}const Ie={maxSizeMB:.2,maxWidthOrHeight:320,maxIteration:20,onProgress:De,fileType:fe},Fe={maxSizeMB:.7,maxWidthOrHeight:780,maxIteration:20,onProgress:De,fileType:fe},Be={maxSizeMB:1,maxWidthOrHeight:900,maxIteration:20,onProgress:De,fileType:fe};class ve{static compress(Z,K){switch(K){case"PROFILE_PHOTOS":return vt(Z,Ie);case"READY_FOR_CROP":return vt(Z,Be);default:return vt(Z,Fe)}}static get progressPercentage(){return Ne.asObservable()}static canvasToFile(Z){return vt.canvasToFile(Z,fe,"image",(new Date).getDate())}static fileToDataUrl(Z){return vt.getDataUrlFromFile(Z)}static dataUrlToFile(Z){return vt.getFilefromDataUrl(Z,"file",(new Date).getDate())}}var Qe=lt(1432);const Xe={aspectRatio:1,autoCrop:!0,autoCropArea:3,background:!0,center:!0,checkCrossOrigin:!0,checkOrientation:!0,cropBoxMovable:!0,cropBoxResizable:!0,dragMode:"crop",guides:!0,highlight:!0,initialAspectRatio:1,restore:!0,rotatable:!0,viewMode:2,wheelZoomRatio:1};class Ge{static get profilePhotoOptions(){return Xe}}var Ve=lt(2378);const je=["fileInput"],We=["image"];let Ze=(()=>{class W{constructor(){this.messageService=(0,Gt.f3M)(Ve.e),this.isCropModalVisible=!1,this.selectedImageSrc=null,this.croppedImageSrc=null,this.progressPercentage$=ve.progressPercentage.pipe((0,Qe.U)(K=>!(K>99||K<.01)&&K))}onFileSelected(K){const v=K.target;v.files&&v.files[0]?ve.compress(v.files[0],"READY_FOR_CROP").then(e=>{this.selectedImageSrc=URL.createObjectURL(e),this.isCropModalVisible=!0}).then(()=>{this.initCropper()}):this.messageService.error("\u0641\u0627\u06cc\u0644\u06cc \u06a9\u0647 \u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u0631\u062f\u06cc\u0646 \u0628\u0631\u0627\u06cc \u0645\u0627 \u0642\u0627\u0628\u0644 \u062e\u0648\u0646\u062f\u0646 \u0646\u06cc\u0633\u062a")}initCropper(){this.cropper&&this.cropper.destroy(),setTimeout(()=>{this.cropper=new(Vt())(this.imageElement.nativeElement,Ge.profilePhotoOptions)})}cancelCropModal(){this.selectedImageSrc=null,this.croppedImageSrc=null,this.isCropModalVisible=!1}confirmCrop(){const K=this.cropper.getCroppedCanvas();K&&(this.selectedImageSrc=null,this.croppedImageSrc=K.toDataURL(),ve.canvasToFile(K).then(v=>v).then(v=>ve.compress(v,"PROFILE_PHOTOS")).then(v=>{this.cropper.destroy(),this.isCropModalVisible=!1,this.compressedCroppedImageFile=v}))}clearSelectedImage(){this.selectedImageSrc=null,this.croppedImageSrc=null}triggerFileInput(){this.fileInput.nativeElement.click()}ngOnDestroy(){this.cropper&&this.cropper.destroy()}static#t=this.\u0275fac=function(v){return new(v||W)};static#e=this.\u0275cmp=Gt.Xpm({type:W,selectors:[["ng-component"]],viewQuery:function(v,e){if(1&v&&(Gt.Gf(je,5),Gt.Gf(We,5)),2&v){let i;Gt.iGM(i=Gt.CRH())&&(e.fileInput=i.first),Gt.iGM(i=Gt.CRH())&&(e.imageElement=i.first)}},standalone:!0,features:[Gt.jDz],decls:0,vars:0,template:function(v,e){},encapsulation:2})}return W})()},4665:(Je,Se,lt)=>{"use strict";lt.d(Se,{du:()=>V,Hf:()=>F,Uh:()=>y,Qp:()=>L,h1:()=>d});var Gt=lt(6099),be=lt(3698),Vt=lt(4513),a=lt(388),oe=lt(2426),Re=lt(2481),we=lt(43),ee=lt(1643),Me=lt(6062),Et=lt(6711),He=lt(1496),Ut=lt(3854),ut=lt(7372),Rt=lt(6790),Pt=lt(730),Qt=lt(2892),ue=lt(563);lt(5575);class Dt{static#t=this.formats={B:{max:1024},kB:{max:Math.pow(1024,2),prev:"B"},KB:{max:Math.pow(1024,2),prev:"B"},MB:{max:Math.pow(1024,3),prev:"kB"},GB:{max:Math.pow(1024,4),prev:"MB"},TB:{max:Number.MAX_SAFE_INTEGER,prev:"GB"}};transform(P,n=0,h="B",u){if(!((0,ut.ui)(P)&&(0,ut.ui)(n)&&n%1==0&&n>=0))return P;let $=P,rt=h;for(;"B"!==rt;)$*=1024,rt=Dt.formats[rt].prev;if(u){const ot=(0,ut.YM)(Dt.calculateResult(Dt.formats[u],$),n);return Dt.formatResult(ot,u)}for(const at in Dt.formats)if(Dt.formats.hasOwnProperty(at)){const ot=Dt.formats[at];if($<ot.max){const ht=(0,ut.YM)(Dt.calculateResult(ot,$),n);return Dt.formatResult(ht,at)}}}static formatResult(P,n){return`${P} ${n}`}static calculateResult(P,n){const h=P.prev?Dt.formats[P.prev]:void 0;return h?n/h.max:n}static#e=this.\u0275fac=function(n){return new(n||Dt)};static#n=this.\u0275pipe=a.Yjl({name:"nzBytes",type:Dt,pure:!0,standalone:!0})}let _e=(()=>{class A{transform(n,h="px"){return"number"==typeof n?`${n}${h}`:n}static#t=this.\u0275fac=function(h){return new(h||A)};static#e=this.\u0275pipe=a.Yjl({name:"nzToCssUnit",type:A,pure:!0,standalone:!0})}return A})(),ie=(()=>{class A{static#t=this.\u0275fac=function(h){return new(h||A)};static#e=this.\u0275mod=a.oAB({type:A});static#n=this.\u0275inj=a.cJS({})}return A})();var xt=lt(9870),Ht=lt(5228),$t=lt(197),ge=lt(1811),xe=lt(6338),Ot=lt(9434),Te=lt(6514),Ye=lt(7718),me=lt(5039),Nt=lt(1772);const vt=["nz-modal-close",""];function Ee(A,P){if(1&A&&(a.ynx(0),a._UZ(1,"span",2),a.BQk()),2&A){const n=P.$implicit;a.xp6(),a.Q6J("nzType",n)}}const fe=["modalElement"];function Ne(A,P){if(1&A){const n=a.EpF();a.TgZ(0,"button",16),a.NdJ("click",function(){a.CHM(n);const u=a.oxw();return a.KtG(u.onCloseClick())}),a.qZA()}}function De(A,P){if(1&A&&(a.ynx(0),a._UZ(1,"span",17),a.BQk()),2&A){const n=a.oxw();a.xp6(),a.Q6J("innerHTML",n.config.nzTitle,a.oJD)}}function Ie(A,P){}function Fe(A,P){if(1&A&&a._UZ(0,"div",17),2&A){const n=a.oxw();a.Q6J("innerHTML",n.config.nzContent,a.oJD)}}function Be(A,P){if(1&A){const n=a.EpF();a.TgZ(0,"button",18),a.NdJ("click",function(){a.CHM(n);const u=a.oxw();return a.KtG(u.onCancel())}),a._uU(1),a.qZA()}if(2&A){const n=a.oxw();a.Q6J("nzLoading",!!n.config.nzCancelLoading)("disabled",n.config.nzCancelDisabled),a.uIk("cdkFocusInitial","cancel"===n.config.nzAutofocus||null),a.xp6(),a.hij(" ",n.config.nzCancelText||n.locale.cancelText," ")}}function ve(A,P){if(1&A){const n=a.EpF();a.TgZ(0,"button",19),a.NdJ("click",function(){a.CHM(n);const u=a.oxw();return a.KtG(u.onOk())}),a._uU(1),a.qZA()}if(2&A){const n=a.oxw();a.Q6J("nzType",n.config.nzOkType)("nzLoading",!!n.config.nzOkLoading)("disabled",n.config.nzOkDisabled)("nzDanger",n.config.nzOkDanger),a.uIk("cdkFocusInitial","ok"===n.config.nzAutofocus||null),a.xp6(),a.hij(" ",n.config.nzOkText||n.locale.okText," ")}}const Qe=["nz-modal-footer",""];function Xe(A,P){if(1&A&&a._UZ(0,"div",5),2&A){const n=a.oxw(3);a.Q6J("innerHTML",n.config.nzFooter,a.oJD)}}function Ge(A,P){if(1&A){const n=a.EpF();a.TgZ(0,"button",7),a.NdJ("click",function(){const $=a.CHM(n).$implicit,rt=a.oxw(4);return a.KtG(rt.onButtonClick($))}),a._uU(1),a.qZA()}if(2&A){const n=P.$implicit,h=a.oxw(4);a.Q6J("hidden",!h.getButtonCallableProp(n,"show"))("nzLoading",h.getButtonCallableProp(n,"loading"))("disabled",h.getButtonCallableProp(n,"disabled"))("nzType",n.type)("nzDanger",n.danger)("nzShape",n.shape)("nzSize",n.size)("nzGhost",n.ghost),a.xp6(),a.hij(" ",n.label," ")}}function Ve(A,P){if(1&A&&(a.ynx(0),a.YNc(1,Ge,2,9,"button",6),a.BQk()),2&A){const n=a.oxw(3);a.xp6(),a.Q6J("ngForOf",n.buttons)}}function je(A,P){if(1&A&&(a.ynx(0),a.YNc(1,Xe,1,1,"div",3)(2,Ve,2,1,"ng-container",4),a.BQk()),2&A){const n=a.oxw(2);a.xp6(),a.Q6J("ngIf",!n.buttonsFooter),a.xp6(),a.Q6J("ngIf",n.buttonsFooter)}}const We=(A,P)=>({$implicit:A,modalRef:P});function Ze(A,P){if(1&A&&(a.ynx(0),a.YNc(1,je,3,2,"ng-container",2),a.BQk()),2&A){const n=a.oxw();a.xp6(),a.Q6J("nzStringTemplateOutlet",n.config.nzFooter)("nzStringTemplateOutletContext",a.WLB(2,We,n.config.nzData,n.modalRef))}}function W(A,P){if(1&A){const n=a.EpF();a.TgZ(0,"button",10),a.NdJ("click",function(){a.CHM(n);const u=a.oxw(2);return a.KtG(u.onCancel())}),a._uU(1),a.qZA()}if(2&A){const n=a.oxw(2);a.Q6J("nzLoading",!!n.config.nzCancelLoading)("disabled",n.config.nzCancelDisabled),a.uIk("cdkFocusInitial","cancel"===n.config.nzAutofocus||null),a.xp6(),a.hij(" ",n.config.nzCancelText||n.locale.cancelText," ")}}function Z(A,P){if(1&A){const n=a.EpF();a.TgZ(0,"button",11),a.NdJ("click",function(){a.CHM(n);const u=a.oxw(2);return a.KtG(u.onOk())}),a._uU(1),a.qZA()}if(2&A){const n=a.oxw(2);a.Q6J("nzType",n.config.nzOkType)("nzDanger",n.config.nzOkDanger)("nzLoading",!!n.config.nzOkLoading)("disabled",n.config.nzOkDisabled),a.uIk("cdkFocusInitial","ok"===n.config.nzAutofocus||null),a.xp6(),a.hij(" ",n.config.nzOkText||n.locale.okText," ")}}function K(A,P){if(1&A&&a.YNc(0,W,2,4,"button",8)(1,Z,2,6,"button",9),2&A){const n=a.oxw();a.Q6J("ngIf",null!==n.config.nzCancelText),a.xp6(),a.Q6J("ngIf",null!==n.config.nzOkText)}}const v=["nz-modal-title",""];function e(A,P){if(1&A&&(a.ynx(0),a._UZ(1,"div",2),a.BQk()),2&A){const n=a.oxw();a.xp6(),a.Q6J("innerHTML",n.config.nzTitle,a.oJD)}}function i(A,P){if(1&A){const n=a.EpF();a.TgZ(0,"button",9),a.NdJ("click",function(){a.CHM(n);const u=a.oxw();return a.KtG(u.onCloseClick())}),a.qZA()}}function C(A,P){1&A&&a._UZ(0,"div",10)}function g(A,P){}function E(A,P){if(1&A&&a._UZ(0,"div",11),2&A){const n=a.oxw();a.Q6J("innerHTML",n.config.nzContent,a.oJD)}}function S(A,P){if(1&A){const n=a.EpF();a.TgZ(0,"div",12),a.NdJ("cancelTriggered",function(){a.CHM(n);const u=a.oxw();return a.KtG(u.onCloseClick())})("okTriggered",function(){a.CHM(n);const u=a.oxw();return a.KtG(u.onOkClick())}),a.qZA()}if(2&A){const n=a.oxw();a.Q6J("modalRef",n.modalRef)}}const l=()=>{};class c{constructor(){this.nzCentered=!1,this.nzClosable=!0,this.nzOkLoading=!1,this.nzOkDisabled=!1,this.nzCancelDisabled=!1,this.nzCancelLoading=!1,this.nzNoAnimation=!1,this.nzAutofocus="auto",this.nzKeyboard=!0,this.nzZIndex=1e3,this.nzWidth=520,this.nzCloseIcon="close",this.nzOkType="primary",this.nzOkDanger=!1,this.nzModalType="default",this.nzOnCancel=l,this.nzOnOk=l,this.nzIconType="question-circle"}}const _="ant-modal-mask",I="modal",H=new a.OlP("NZ_MODAL_DATA"),O={modalContainer:(0,xt.X$)("modalContainer",[(0,xt.SB)("void, exit",(0,xt.oB)({})),(0,xt.SB)("enter",(0,xt.oB)({})),(0,xt.eR)("* => enter",(0,xt.jt)(".24s",(0,xt.oB)({}))),(0,xt.eR)("* => void, * => exit",(0,xt.jt)(".2s",(0,xt.oB)({})))])};let tt=(()=>{class A{constructor(n){this.config=n}static#t=this.\u0275fac=function(h){return new(h||A)(a.Y36(c))};static#e=this.\u0275cmp=a.Xpm({type:A,selectors:[["button","nz-modal-close",""]],hostAttrs:["aria-label","Close",1,"ant-modal-close"],exportAs:["NzModalCloseBuiltin"],standalone:!0,features:[a.jDz],attrs:vt,decls:2,vars:1,consts:[[1,"ant-modal-close-x"],[4,"nzStringTemplateOutlet"],["nz-icon","",1,"ant-modal-close-icon",3,"nzType"]],template:function(h,u){1&h&&(a.TgZ(0,"span",0),a.YNc(1,Ee,2,1,"ng-container",1),a.qZA()),2&h&&(a.xp6(),a.Q6J("nzStringTemplateOutlet",u.config.nzCloseIcon))},dependencies:[ue.PV,ue.Ls,Qt.T,Qt.f],encapsulation:2,changeDetection:0})}return A})();function B(A,P,n){return typeof A>"u"?typeof P>"u"?n:P:A}function q(A){const{nzCentered:P,nzMask:n,nzMaskClosable:h,nzClosable:u,nzOkLoading:$,nzOkDisabled:rt,nzCancelDisabled:at,nzCancelLoading:ot,nzKeyboard:ht,nzNoAnimation:ft,nzContent:dt,nzFooter:re,nzZIndex:jt,nzWidth:At,nzWrapClassName:_t,nzClassName:Ct,nzStyle:yt,nzTitle:Tt,nzCloseIcon:It,nzMaskStyle:zt,nzBodyStyle:Wt,nzOkText:wt,nzCancelText:bt,nzOkType:Zt,nzOkDanger:se,nzIconType:Oe,nzModalType:kt,nzOnOk:de,nzOnCancel:Ft,nzAfterOpen:Jt,nzAfterClose:Xt,nzCloseOnNavigation:qt,nzAutofocus:m}=A;return{nzCentered:P,nzMask:n,nzMaskClosable:h,nzClosable:u,nzOkLoading:$,nzOkDisabled:rt,nzCancelDisabled:at,nzCancelLoading:ot,nzKeyboard:ht,nzNoAnimation:ft,nzContent:dt,nzFooter:re,nzZIndex:jt,nzWidth:At,nzWrapClassName:_t,nzClassName:Ct,nzStyle:yt,nzTitle:Tt,nzCloseIcon:It,nzMaskStyle:zt,nzBodyStyle:Wt,nzOkText:wt,nzCancelText:bt,nzOkType:Zt,nzOkDanger:se,nzIconType:Oe,nzModalType:kt,nzOnOk:de,nzOnCancel:Ft,nzAfterOpen:Jt,nzAfterClose:Xt,nzCloseOnNavigation:qt,nzAutofocus:m}}function M(){throw Error("Attempting to attach modal content after content is already attached")}let U=(()=>{class A extends Vt.en{get showMask(){const n=this.nzConfigService.getConfigForComponent(I)||{};return!!B(this.config.nzMask,n.nzMask,!0)}get maskClosable(){const n=this.nzConfigService.getConfigForComponent(I)||{};return!!B(this.config.nzMaskClosable,n.nzMaskClosable,!0)}constructor(n,h,u,$,rt,at,ot,ht,ft,dt){super(),this.ngZone=n,this.host=h,this.focusTrapFactory=u,this.cdr=$,this.render=rt,this.overlayRef=at,this.nzConfigService=ot,this.config=ht,this.animationType=dt,this.animationStateChanged=new a.vpe,this.containerClick=new a.vpe,this.cancelTriggered=new a.vpe,this.okTriggered=new a.vpe,this.state="enter",this.isStringContent=!1,this.dir="ltr",this.elementFocusedBeforeModalWasOpened=null,this.mouseDown=!1,this.oldMaskStyle=null,this.destroy$=new oe.x,this.document=ft,this.dir=at.getDirection(),this.isStringContent="string"==typeof ht.nzContent,this.nzConfigService.getConfigChangeEventForComponent(I).pipe((0,ee.R)(this.destroy$)).subscribe(()=>{this.updateMaskClassname()})}onContainerClick(n){n.target===n.currentTarget&&!this.mouseDown&&this.showMask&&this.maskClosable&&this.containerClick.emit()}onCloseClick(){this.cancelTriggered.emit()}onOkClick(){this.okTriggered.emit()}attachComponentPortal(n){return this.portalOutlet.hasAttached()&&M(),this.savePreviouslyFocusedElement(),this.setZIndexForBackdrop(),this.portalOutlet.attachComponentPortal(n)}attachTemplatePortal(n){return this.portalOutlet.hasAttached()&&M(),this.savePreviouslyFocusedElement(),this.setZIndexForBackdrop(),this.portalOutlet.attachTemplatePortal(n)}attachStringContent(){this.savePreviouslyFocusedElement(),this.setZIndexForBackdrop()}getNativeElement(){return this.host.nativeElement}animationDisabled(){return this.config.nzNoAnimation||"NoopAnimations"===this.animationType}setModalTransformOrigin(){const n=this.modalElementRef.nativeElement;if(this.elementFocusedBeforeModalWasOpened){const h=this.elementFocusedBeforeModalWasOpened.getBoundingClientRect(),u=(0,ut.pW)(this.elementFocusedBeforeModalWasOpened);this.render.setStyle(n,"transform-origin",`${u.left+h.width/2-n.offsetLeft}px ${u.top+h.height/2-n.offsetTop}px 0px`)}}savePreviouslyFocusedElement(){this.focusTrap||(this.focusTrap=this.focusTrapFactory.create(this.host.nativeElement)),this.document&&(this.elementFocusedBeforeModalWasOpened=this.document.activeElement,this.host.nativeElement.focus&&this.ngZone.runOutsideAngular(()=>(0,Ht.e)(()=>this.host.nativeElement.focus())))}trapFocus(){const n=this.host.nativeElement;if(this.config.nzAutofocus)this.focusTrap.focusInitialElementWhenReady();else{const h=this.document.activeElement;h!==n&&!n.contains(h)&&n.focus()}}restoreFocus(){const n=this.elementFocusedBeforeModalWasOpened;if(n&&"function"==typeof n.focus){const h=this.document.activeElement,u=this.host.nativeElement;(!h||h===this.document.body||h===u||u.contains(h))&&n.focus()}this.focusTrap&&this.focusTrap.destroy()}setEnterAnimationClass(){if(this.animationDisabled())return;this.setModalTransformOrigin();const n=this.modalElementRef.nativeElement,h=this.overlayRef.backdropElement;n.classList.add("ant-zoom-enter"),n.classList.add("ant-zoom-enter-active"),h&&(h.classList.add("ant-fade-enter"),h.classList.add("ant-fade-enter-active"))}setExitAnimationClass(){const n=this.modalElementRef.nativeElement;n.classList.add("ant-zoom-leave"),n.classList.add("ant-zoom-leave-active"),this.setMaskExitAnimationClass()}setMaskExitAnimationClass(n=!1){const h=this.overlayRef.backdropElement;if(h){if(this.animationDisabled()||n)return void h.classList.remove(_);h.classList.add("ant-fade-leave"),h.classList.add("ant-fade-leave-active")}}cleanAnimationClass(){if(this.animationDisabled())return;const n=this.overlayRef.backdropElement,h=this.modalElementRef.nativeElement;n&&(n.classList.remove("ant-fade-enter"),n.classList.remove("ant-fade-enter-active")),h.classList.remove("ant-zoom-enter"),h.classList.remove("ant-zoom-enter-active"),h.classList.remove("ant-zoom-leave"),h.classList.remove("ant-zoom-leave-active")}setZIndexForBackdrop(){const n=this.overlayRef.backdropElement;n&&(0,ut.DX)(this.config.nzZIndex)&&this.render.setStyle(n,"z-index",this.config.nzZIndex)}bindBackdropStyle(){const n=this.overlayRef.backdropElement;if(n&&(this.oldMaskStyle&&(Object.keys(this.oldMaskStyle).forEach(u=>{this.render.removeStyle(n,u)}),this.oldMaskStyle=null),this.setZIndexForBackdrop(),"object"==typeof this.config.nzMaskStyle&&Object.keys(this.config.nzMaskStyle).length)){const h={...this.config.nzMaskStyle};Object.keys(h).forEach(u=>{this.render.setStyle(n,u,h[u])}),this.oldMaskStyle=h}}updateMaskClassname(){const n=this.overlayRef.backdropElement;n&&(this.showMask?n.classList.add(_):n.classList.remove(_))}onAnimationDone(n){"enter"===n.toState?this.trapFocus():"exit"===n.toState&&this.restoreFocus(),this.cleanAnimationClass(),this.animationStateChanged.emit(n)}onAnimationStart(n){"enter"===n.toState?(this.setEnterAnimationClass(),this.bindBackdropStyle()):"exit"===n.toState&&this.setExitAnimationClass(),this.animationStateChanged.emit(n)}startExitAnimation(){this.state="exit",this.cdr.markForCheck()}ngOnDestroy(){this.setMaskExitAnimationClass(!0),this.destroy$.next(!0),this.destroy$.complete()}setupMouseListeners(n){this.ngZone.runOutsideAngular(()=>{(0,Re.R)(this.host.nativeElement,"mouseup").pipe((0,ee.R)(this.destroy$)).subscribe(()=>{this.mouseDown&&setTimeout(()=>{this.mouseDown=!1})}),(0,Re.R)(n.nativeElement,"mousedown").pipe((0,ee.R)(this.destroy$)).subscribe(()=>{this.mouseDown=!0})})}static#t=this.\u0275fac=function(h){a.$Z()};static#e=this.\u0275dir=a.lG2({type:A,features:[a.qOj]})}return A})(),f=(()=>{class A extends U{constructor(n,h,u,$,rt,at,ot,ht,ft,dt,re){super(n,u,$,rt,at,ot,ht,ft,dt,re),this.i18n=h,this.config=ft,this.cancelTriggered=new a.vpe,this.okTriggered=new a.vpe,this.i18n.localeChange.pipe((0,ee.R)(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Modal")})}ngOnInit(){this.setupMouseListeners(this.modalElementRef)}onCancel(){this.cancelTriggered.emit()}onOk(){this.okTriggered.emit()}static#t=this.\u0275fac=function(h){return new(h||A)(a.Y36(a.R0b),a.Y36(xe.wi),a.Y36(a.SBq),a.Y36($t.qV),a.Y36(a.sBO),a.Y36(a.Qsj),a.Y36(be.Iu),a.Y36(ge.jY),a.Y36(c),a.Y36(Rt.K0,8),a.Y36(a.QbO,8))};static#e=this.\u0275cmp=a.Xpm({type:A,selectors:[["nz-modal-confirm-container"]],viewQuery:function(h,u){if(1&h&&(a.Gf(Vt.Pl,7),a.Gf(fe,7)),2&h){let $;a.iGM($=a.CRH())&&(u.portalOutlet=$.first),a.iGM($=a.CRH())&&(u.modalElementRef=$.first)}},hostAttrs:["tabindex","-1","role","dialog"],hostVars:10,hostBindings:function(h,u){1&h&&(a.WFA("@modalContainer.start",function(rt){return u.onAnimationStart(rt)})("@modalContainer.done",function(rt){return u.onAnimationDone(rt)}),a.NdJ("click",function(rt){return u.onContainerClick(rt)})),2&h&&(a.d8E("@.disabled",u.config.nzNoAnimation)("@modalContainer",u.state),a.Tol(u.config.nzWrapClassName?"ant-modal-wrap "+u.config.nzWrapClassName:"ant-modal-wrap"),a.Udp("z-index",u.config.nzZIndex),a.ekj("ant-modal-wrap-rtl","rtl"===u.dir)("ant-modal-centered",u.config.nzCentered))},outputs:{cancelTriggered:"cancelTriggered",okTriggered:"okTriggered"},exportAs:["nzModalConfirmContainer"],standalone:!0,features:[a.qOj,a.jDz],decls:17,vars:13,consts:[["role","document",1,"ant-modal",3,"ngClass","ngStyle"],["modalElement",""],[1,"ant-modal-content"],["nz-modal-close","",3,"click",4,"ngIf"],[1,"ant-modal-body",3,"ngStyle"],[1,"ant-modal-confirm-body-wrapper"],[1,"ant-modal-confirm-body"],["nz-icon","",3,"nzType"],[1,"ant-modal-confirm-title"],[4,"nzStringTemplateOutlet"],[1,"ant-modal-confirm-content"],["cdkPortalOutlet",""],[3,"innerHTML",4,"ngIf"],[1,"ant-modal-confirm-btns"],["nz-button","",3,"nzLoading","disabled","click",4,"ngIf"],["nz-button","",3,"nzType","nzLoading","disabled","nzDanger","click",4,"ngIf"],["nz-modal-close","",3,"click"],[3,"innerHTML"],["nz-button","",3,"nzLoading","disabled","click"],["nz-button","",3,"nzType","nzLoading","disabled","nzDanger","click"]],template:function(h,u){1&h&&(a.TgZ(0,"div",0,1),a.ALo(2,"nzToCssUnit"),a.TgZ(3,"div",2),a.YNc(4,Ne,1,0,"button",3),a.TgZ(5,"div",4)(6,"div",5)(7,"div",6),a._UZ(8,"span",7),a.TgZ(9,"span",8),a.YNc(10,De,2,1,"ng-container",9),a.qZA(),a.TgZ(11,"div",10),a.YNc(12,Ie,0,0,"ng-template",11)(13,Fe,1,1,"div",12),a.qZA()(),a.TgZ(14,"div",13),a.YNc(15,Be,2,4,"button",14)(16,ve,2,6,"button",15),a.qZA()()()()()),2&h&&(a.Udp("width",a.lcZ(2,11,null==u.config?null:u.config.nzWidth)),a.Q6J("ngClass",u.config.nzClassName)("ngStyle",u.config.nzStyle),a.xp6(4),a.Q6J("ngIf",u.config.nzClosable),a.xp6(),a.Q6J("ngStyle",u.config.nzBodyStyle),a.xp6(3),a.Q6J("nzType",u.config.nzIconType),a.xp6(2),a.Q6J("nzStringTemplateOutlet",u.config.nzTitle),a.xp6(3),a.Q6J("ngIf",u.isStringContent),a.xp6(2),a.Q6J("ngIf",null!==u.config.nzCancelText),a.xp6(),a.Q6J("ngIf",null!==u.config.nzOkText))},dependencies:[Rt.mk,Rt.PC,ie,_e,ue.PV,ue.Ls,Rt.O5,tt,Qt.T,Qt.f,Vt.eL,Vt.Pl,Pt.sL,Pt.ix,Ot.w,Te.dQ],encapsulation:2,data:{animation:[O.modalContainer]}})}return A})(),b=(()=>{class A{constructor(n,h){this.i18n=n,this.config=h,this.buttonsFooter=!1,this.buttons=[],this.cancelTriggered=new a.vpe,this.okTriggered=new a.vpe,this.destroy$=new oe.x,Array.isArray(h.nzFooter)&&(this.buttonsFooter=!0,this.buttons=h.nzFooter.map(D)),this.i18n.localeChange.pipe((0,ee.R)(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Modal")})}onCancel(){this.cancelTriggered.emit()}onOk(){this.okTriggered.emit()}getButtonCallableProp(n,h){const u=n[h],$=this.modalRef.getContentComponent();return"function"==typeof u?u.apply(n,$&&[$]):u}onButtonClick(n){if(!this.getButtonCallableProp(n,"loading")){const u=this.getButtonCallableProp(n,"onClick");n.autoLoading&&(0,ut.tI)(u)&&(n.loading=!0,u.then(()=>n.loading=!1).catch($=>{throw n.loading=!1,$}))}}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#t=this.\u0275fac=function(h){return new(h||A)(a.Y36(xe.wi),a.Y36(c))};static#e=this.\u0275cmp=a.Xpm({type:A,selectors:[["div","nz-modal-footer",""]],hostAttrs:[1,"ant-modal-footer"],inputs:{modalRef:"modalRef"},outputs:{cancelTriggered:"cancelTriggered",okTriggered:"okTriggered"},exportAs:["NzModalFooterBuiltin"],standalone:!0,features:[a.jDz],attrs:Qe,decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["defaultFooterButtons",""],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],[3,"innerHTML",4,"ngIf"],[4,"ngIf"],[3,"innerHTML"],["nz-button","",3,"hidden","nzLoading","disabled","nzType","nzDanger","nzShape","nzSize","nzGhost","click",4,"ngFor","ngForOf"],["nz-button","",3,"hidden","nzLoading","disabled","nzType","nzDanger","nzShape","nzSize","nzGhost","click"],["nz-button","",3,"nzLoading","disabled","click",4,"ngIf"],["nz-button","",3,"nzType","nzDanger","nzLoading","disabled","click",4,"ngIf"],["nz-button","",3,"nzLoading","disabled","click"],["nz-button","",3,"nzType","nzDanger","nzLoading","disabled","click"]],template:function(h,u){if(1&h&&a.YNc(0,Ze,2,5,"ng-container",0)(1,K,2,2,"ng-template",null,1,a.W1O),2&h){const $=a.MAs(2);a.Q6J("ngIf",u.config.nzFooter)("ngIfElse",$)}},dependencies:[Rt.O5,Qt.T,Qt.f,Rt.ax,Pt.sL,Pt.ix,Ot.w,Te.dQ],encapsulation:2})}return A})();function D(A){return{type:null,size:"default",autoLoading:!0,show:!0,loading:!1,disabled:!1,...A}}let R=(()=>{class A{constructor(n){this.config=n}static#t=this.\u0275fac=function(h){return new(h||A)(a.Y36(c))};static#e=this.\u0275cmp=a.Xpm({type:A,selectors:[["div","nz-modal-title",""]],hostAttrs:[1,"ant-modal-header"],exportAs:["NzModalTitleBuiltin"],standalone:!0,features:[a.jDz],attrs:v,decls:2,vars:1,consts:[[1,"ant-modal-title"],[4,"nzStringTemplateOutlet"],[3,"innerHTML"]],template:function(h,u){1&h&&(a.TgZ(0,"div",0),a.YNc(1,e,2,1,"ng-container",1),a.qZA()),2&h&&(a.xp6(),a.Q6J("nzStringTemplateOutlet",u.config.nzTitle))},dependencies:[Qt.T,Qt.f],encapsulation:2,changeDetection:0})}return A})(),k=(()=>{class A extends U{constructor(n,h,u,$,rt,at,ot,ht,ft,dt){super(n,h,u,$,rt,at,ot,ht,ft,dt),this.config=ht}ngOnInit(){this.setupMouseListeners(this.modalElementRef)}static#t=this.\u0275fac=function(h){return new(h||A)(a.Y36(a.R0b),a.Y36(a.SBq),a.Y36($t.qV),a.Y36(a.sBO),a.Y36(a.Qsj),a.Y36(be.Iu),a.Y36(ge.jY),a.Y36(c),a.Y36(Rt.K0,8),a.Y36(a.QbO,8))};static#e=this.\u0275cmp=a.Xpm({type:A,selectors:[["nz-modal-container"]],viewQuery:function(h,u){if(1&h&&(a.Gf(Vt.Pl,7),a.Gf(fe,7)),2&h){let $;a.iGM($=a.CRH())&&(u.portalOutlet=$.first),a.iGM($=a.CRH())&&(u.modalElementRef=$.first)}},hostAttrs:["tabindex","-1","role","dialog"],hostVars:10,hostBindings:function(h,u){1&h&&(a.WFA("@modalContainer.start",function(rt){return u.onAnimationStart(rt)})("@modalContainer.done",function(rt){return u.onAnimationDone(rt)}),a.NdJ("click",function(rt){return u.onContainerClick(rt)})),2&h&&(a.d8E("@.disabled",u.config.nzNoAnimation)("@modalContainer",u.state),a.Tol(u.config.nzWrapClassName?"ant-modal-wrap "+u.config.nzWrapClassName:"ant-modal-wrap"),a.Udp("z-index",u.config.nzZIndex),a.ekj("ant-modal-wrap-rtl","rtl"===u.dir)("ant-modal-centered",u.config.nzCentered))},exportAs:["nzModalContainer"],standalone:!0,features:[a.qOj,a.jDz],decls:10,vars:11,consts:[["role","document",1,"ant-modal",3,"ngClass","ngStyle"],["modalElement",""],[1,"ant-modal-content"],["nz-modal-close","",3,"click",4,"ngIf"],["nz-modal-title","",4,"ngIf"],[1,"ant-modal-body",3,"ngStyle"],["cdkPortalOutlet",""],[3,"innerHTML",4,"ngIf"],["nz-modal-footer","",3,"modalRef","cancelTriggered","okTriggered",4,"ngIf"],["nz-modal-close","",3,"click"],["nz-modal-title",""],[3,"innerHTML"],["nz-modal-footer","",3,"modalRef","cancelTriggered","okTriggered"]],template:function(h,u){1&h&&(a.TgZ(0,"div",0,1),a.ALo(2,"nzToCssUnit"),a.TgZ(3,"div",2),a.YNc(4,i,1,0,"button",3)(5,C,1,0,"div",4),a.TgZ(6,"div",5),a.YNc(7,g,0,0,"ng-template",6)(8,E,1,1,"div",7),a.qZA(),a.YNc(9,S,1,1,"div",8),a.qZA()()),2&h&&(a.Udp("width",a.lcZ(2,9,null==u.config?null:u.config.nzWidth)),a.Q6J("ngClass",u.config.nzClassName)("ngStyle",u.config.nzStyle),a.xp6(4),a.Q6J("ngIf",u.config.nzClosable),a.xp6(),a.Q6J("ngIf",u.config.nzTitle),a.xp6(),a.Q6J("ngStyle",u.config.nzBodyStyle),a.xp6(2),a.Q6J("ngIf",u.isStringContent),a.xp6(),a.Q6J("ngIf",null!==u.config.nzFooter))},dependencies:[Rt.mk,Rt.PC,Rt.O5,tt,R,Vt.eL,Vt.Pl,b,ie,_e],encapsulation:2,data:{animation:[O.modalContainer]}})}return A})();class N{constructor(P,n,h){this.overlayRef=P,this.config=n,this.containerInstance=h,this.componentInstance=null,this.state=0,this.afterClose=new oe.x,this.afterOpen=new oe.x,this.destroy$=new oe.x,h.animationStateChanged.pipe((0,Me.h)(u=>"done"===u.phaseName&&"enter"===u.toState),(0,Et.q)(1)).subscribe(()=>{this.afterOpen.next(),this.afterOpen.complete(),n.nzAfterOpen instanceof a.vpe&&n.nzAfterOpen.emit()}),h.animationStateChanged.pipe((0,Me.h)(u=>"done"===u.phaseName&&"exit"===u.toState),(0,Et.q)(1)).subscribe(()=>{clearTimeout(this.closeTimeout),this._finishDialogClose()}),h.containerClick.pipe((0,Et.q)(1),(0,ee.R)(this.destroy$)).subscribe(()=>{!this.config.nzCancelLoading&&!this.config.nzOkLoading&&this.trigger("cancel")}),P.keydownEvents().pipe((0,Me.h)(u=>this.config.nzKeyboard&&!this.config.nzCancelLoading&&!this.config.nzOkLoading&&u.keyCode===Ye.hY&&!(0,Ye.Vb)(u))).subscribe(u=>{u.preventDefault(),this.trigger("cancel")}),h.cancelTriggered.pipe((0,ee.R)(this.destroy$)).subscribe(()=>this.trigger("cancel")),h.okTriggered.pipe((0,ee.R)(this.destroy$)).subscribe(()=>this.trigger("ok")),P.detachments().subscribe(()=>{this.afterClose.next(this.result),this.afterClose.complete(),n.nzAfterClose instanceof a.vpe&&n.nzAfterClose.emit(this.result),this.componentInstance=null,this.overlayRef.dispose()})}getContentComponent(){return this.componentInstance}getElement(){return this.containerInstance.getNativeElement()}destroy(P){this.close(P)}triggerOk(){return this.trigger("ok")}triggerCancel(){return this.trigger("cancel")}close(P){0===this.state&&(this.result=P,this.containerInstance.animationStateChanged.pipe((0,Me.h)(n=>"start"===n.phaseName),(0,Et.q)(1)).subscribe(n=>{this.overlayRef.detachBackdrop(),this.closeTimeout=setTimeout(()=>{this._finishDialogClose()},n.totalTime+100)}),this.containerInstance.startExitAnimation(),this.state=1)}updateConfig(P){Object.assign(this.config,P),this.containerInstance.bindBackdropStyle(),this.containerInstance.cdr.markForCheck()}getState(){return this.state}getConfig(){return this.config}getBackdropElement(){return this.overlayRef.backdropElement}trigger(P){var n=this;return(0,Gt.Z)(function*(){if(1===n.state)return;const h={ok:n.config.nzOnOk,cancel:n.config.nzOnCancel}[P],u={ok:"nzOkLoading",cancel:"nzCancelLoading"}[P];if(!n.config[u])if(h instanceof a.vpe)h.emit(n.getContentComponent());else if("function"==typeof h){const rt=h(n.getContentComponent());if((0,ut.tI)(rt)){n.config[u]=!0;let at=!1;try{at=yield rt}finally{n.config[u]=!1,n.closeWhitResult(at)}}else n.closeWhitResult(rt)}})()}closeWhitResult(P){!1!==P&&this.close(P)}_finishDialogClose(){this.state=2,this.overlayRef.dispose(),this.destroy$.next()}}let w=(()=>{class A{get openModals(){return this.parentModal?this.parentModal.openModals:this.openModalsAtThisLevel}get _afterAllClosed(){const n=this.parentModal;return n?n._afterAllClosed:this.afterAllClosedAtThisLevel}constructor(n,h,u,$,rt){this.overlay=n,this.injector=h,this.nzConfigService=u,this.parentModal=$,this.directionality=rt,this.openModalsAtThisLevel=[],this.afterAllClosedAtThisLevel=new oe.x,this.afterAllClose=(0,we.P)(()=>this.openModals.length?this._afterAllClosed:this._afterAllClosed.pipe((0,He.O)(void 0)))}create(n){return this.open(n.nzContent,n)}closeAll(){this.closeModals(this.openModals)}confirm(n={},h="confirm"){return"nzFooter"in n&&(0,Ut.ZK)('The Confirm-Modal doesn\'t support "nzFooter", this property will be ignored.'),"nzWidth"in n||(n.nzWidth=416),"nzMaskClosable"in n||(n.nzMaskClosable=!1),n.nzModalType="confirm",n.nzClassName=`ant-modal-confirm ant-modal-confirm-${h} ${n.nzClassName||""}`,this.create(n)}info(n={}){return this.confirmFactory(n,"info")}success(n={}){return this.confirmFactory(n,"success")}error(n={}){return this.confirmFactory(n,"error")}warning(n={}){return this.confirmFactory(n,"warning")}open(n,h){const u=function X(A,P){return{...P,...A}}(h||{},new c),$=this.createOverlay(u),rt=this.attachModalContainer($,u),at=this.attachModalContent(n,rt,$,u);return rt.modalRef=at,this.openModals.push(at),at.afterClose.subscribe(()=>this.removeOpenModal(at)),at}removeOpenModal(n){const h=this.openModals.indexOf(n);h>-1&&(this.openModals.splice(h,1),this.openModals.length||this._afterAllClosed.next())}closeModals(n){let h=n.length;for(;h--;)n[h].close(),this.openModals.length||this._afterAllClosed.next()}createOverlay(n){const h=this.nzConfigService.getConfigForComponent(I)||{},u=new be.X_({hasBackdrop:!0,scrollStrategy:this.overlay.scrollStrategies.block(),positionStrategy:this.overlay.position().global(),disposeOnNavigation:B(n.nzCloseOnNavigation,h.nzCloseOnNavigation,!0),direction:B(n.nzDirection,h.nzDirection,this.directionality.value)});return B(n.nzMask,h.nzMask,!0)&&(u.backdropClass=_),this.overlay.create(u)}attachModalContainer(n,h){const $=a.zs3.create({parent:h&&h.nzViewContainerRef&&h.nzViewContainerRef.injector||this.injector,providers:[{provide:be.Iu,useValue:n},{provide:c,useValue:h}]}),at=new Vt.C5("confirm"===h.nzModalType?f:k,h.nzViewContainerRef,$);return n.attach(at).instance}attachModalContent(n,h,u,$){const rt=new N(u,$,h);if(n instanceof a.Rgc)h.attachTemplatePortal(new Vt.UE(n,null,{$implicit:$.nzData,modalRef:rt}));else if((0,ut.DX)(n)&&"string"!=typeof n){const at=this.createInjector(rt,$),ot=h.attachComponentPortal(new Vt.C5(n,$.nzViewContainerRef,at));rt.componentInstance=ot.instance}else h.attachStringContent();return rt}createInjector(n,h){return a.zs3.create({parent:h&&h.nzViewContainerRef&&h.nzViewContainerRef.injector||this.injector,providers:[{provide:N,useValue:n},{provide:H,useValue:h.nzData}]})}confirmFactory(n={},h){return"nzIconType"in n||(n.nzIconType={info:"info-circle",success:"check-circle",error:"close-circle",warning:"exclamation-circle"}[h]),"nzCancelText"in n||(n.nzCancelText=null),this.confirm(n,h)}ngOnDestroy(){this.closeModals(this.openModalsAtThisLevel),this.afterAllClosedAtThisLevel.complete()}static#t=this.\u0275fac=function(h){return new(h||A)(a.LFG(be.aV),a.LFG(a.zs3),a.LFG(ge.jY),a.LFG(A,12),a.LFG(me.Is,8))};static#e=this.\u0275prov=a.Yz7({token:A,factory:A.\u0275fac})}return A})(),F=(()=>{class A{constructor(n){this.templateRef=n}static#t=this.\u0275fac=function(h){return new(h||A)(a.Y36(a.Rgc))};static#e=this.\u0275dir=a.lG2({type:A,selectors:[["","nzModalContent",""]],exportAs:["nzModalContent"],standalone:!0})}return A})(),y=(()=>{class A{constructor(n,h){this.nzModalRef=n,this.templateRef=h,this.nzModalRef&&this.nzModalRef.updateConfig({nzFooter:this.templateRef})}static#t=this.\u0275fac=function(h){return new(h||A)(a.Y36(N,8),a.Y36(a.Rgc))};static#e=this.\u0275dir=a.lG2({type:A,selectors:[["","nzModalFooter",""]],exportAs:["nzModalFooter"],standalone:!0})}return A})(),d=(()=>{class A{constructor(n,h){this.nzModalRef=n,this.templateRef=h,this.nzModalRef&&this.nzModalRef.updateConfig({nzTitle:this.templateRef})}static#t=this.\u0275fac=function(h){return new(h||A)(a.Y36(N,8),a.Y36(a.Rgc))};static#e=this.\u0275dir=a.lG2({type:A,selectors:[["","nzModalTitle",""]],exportAs:["nzModalTitle"],standalone:!0})}return A})(),V=(()=>{class A{set modalTitle(n){n&&this.setTitleWithTemplate(n)}set modalFooter(n){n&&this.setFooterWithTemplate(n)}get afterOpen(){return this.nzAfterOpen.asObservable()}get afterClose(){return this.nzAfterClose.asObservable()}constructor(n,h,u){this.cdr=n,this.modal=h,this.viewContainerRef=u,this.nzVisible=!1,this.nzClosable=!0,this.nzOkLoading=!1,this.nzOkDisabled=!1,this.nzCancelDisabled=!1,this.nzCancelLoading=!1,this.nzKeyboard=!0,this.nzNoAnimation=!1,this.nzCentered=!1,this.nzZIndex=1e3,this.nzWidth=520,this.nzCloseIcon="close",this.nzOkType="primary",this.nzOkDanger=!1,this.nzIconType="question-circle",this.nzModalType="default",this.nzAutofocus="auto",this.nzOnOk=new a.vpe,this.nzOnCancel=new a.vpe,this.nzAfterOpen=new a.vpe,this.nzAfterClose=new a.vpe,this.nzVisibleChange=new a.vpe,this.modalRef=null,this.destroy$=new oe.x}open(){if(this.nzVisible||(this.nzVisible=!0,this.nzVisibleChange.emit(!0)),!this.modalRef){const n=this.getConfig();this.modalRef=this.modal.create(n),this.modalRef.afterClose.asObservable().pipe((0,ee.R)(this.destroy$)).subscribe(()=>{this.close()})}}close(n){this.nzVisible&&(this.nzVisible=!1,this.nzVisibleChange.emit(!1)),this.modalRef&&(this.modalRef.close(n),this.modalRef=null)}destroy(n){this.close(n)}triggerOk(){this.modalRef?.triggerOk()}triggerCancel(){this.modalRef?.triggerCancel()}getContentComponent(){return this.modalRef?.getContentComponent()}getElement(){return this.modalRef?.getElement()}getModalRef(){return this.modalRef}setTitleWithTemplate(n){this.nzTitle=n,this.modalRef&&Promise.resolve().then(()=>{this.modalRef.updateConfig({nzTitle:this.nzTitle})})}setFooterWithTemplate(n){this.nzFooter=n,this.modalRef&&Promise.resolve().then(()=>{this.modalRef.updateConfig({nzFooter:this.nzFooter})}),this.cdr.markForCheck()}getConfig(){const n=q(this);return n.nzViewContainerRef=this.viewContainerRef,n.nzContent=this.nzContent||this.contentFromContentChild,n}ngOnChanges(n){const{nzVisible:h,...u}=n;Object.keys(u).length&&this.modalRef&&this.modalRef.updateConfig(q(this)),h&&(this.nzVisible?this.open():this.close())}ngOnDestroy(){this.modalRef?._finishDialogClose(),this.destroy$.next(),this.destroy$.complete()}static#t=this.\u0275fac=function(h){return new(h||A)(a.Y36(a.sBO),a.Y36(w),a.Y36(a.s_b))};static#e=this.\u0275cmp=a.Xpm({type:A,selectors:[["nz-modal"]],contentQueries:function(h,u,$){if(1&h&&(a.Suo($,d,7,a.Rgc),a.Suo($,F,7,a.Rgc),a.Suo($,y,7,a.Rgc)),2&h){let rt;a.iGM(rt=a.CRH())&&(u.modalTitle=rt.first),a.iGM(rt=a.CRH())&&(u.contentFromContentChild=rt.first),a.iGM(rt=a.CRH())&&(u.modalFooter=rt.first)}},inputs:{nzMask:"nzMask",nzMaskClosable:"nzMaskClosable",nzCloseOnNavigation:"nzCloseOnNavigation",nzVisible:"nzVisible",nzClosable:"nzClosable",nzOkLoading:"nzOkLoading",nzOkDisabled:"nzOkDisabled",nzCancelDisabled:"nzCancelDisabled",nzCancelLoading:"nzCancelLoading",nzKeyboard:"nzKeyboard",nzNoAnimation:"nzNoAnimation",nzCentered:"nzCentered",nzContent:"nzContent",nzFooter:"nzFooter",nzZIndex:"nzZIndex",nzWidth:"nzWidth",nzWrapClassName:"nzWrapClassName",nzClassName:"nzClassName",nzStyle:"nzStyle",nzTitle:"nzTitle",nzCloseIcon:"nzCloseIcon",nzMaskStyle:"nzMaskStyle",nzBodyStyle:"nzBodyStyle",nzOkText:"nzOkText",nzCancelText:"nzCancelText",nzOkType:"nzOkType",nzOkDanger:"nzOkDanger",nzIconType:"nzIconType",nzModalType:"nzModalType",nzAutofocus:"nzAutofocus",nzOnOk:"nzOnOk",nzOnCancel:"nzOnCancel"},outputs:{nzOnOk:"nzOnOk",nzOnCancel:"nzOnCancel",nzAfterOpen:"nzAfterOpen",nzAfterClose:"nzAfterClose",nzVisibleChange:"nzVisibleChange"},exportAs:["nzModal"],standalone:!0,features:[a.TTD,a.jDz],decls:0,vars:0,template:function(h,u){},encapsulation:2,changeDetection:0})}return(0,Nt.gn)([(0,ut.yF)()],A.prototype,"nzMask",void 0),(0,Nt.gn)([(0,ut.yF)()],A.prototype,"nzMaskClosable",void 0),(0,Nt.gn)([(0,ut.yF)()],A.prototype,"nzCloseOnNavigation",void 0),(0,Nt.gn)([(0,ut.yF)()],A.prototype,"nzVisible",void 0),(0,Nt.gn)([(0,ut.yF)()],A.prototype,"nzClosable",void 0),(0,Nt.gn)([(0,ut.yF)()],A.prototype,"nzOkLoading",void 0),(0,Nt.gn)([(0,ut.yF)()],A.prototype,"nzOkDisabled",void 0),(0,Nt.gn)([(0,ut.yF)()],A.prototype,"nzCancelDisabled",void 0),(0,Nt.gn)([(0,ut.yF)()],A.prototype,"nzCancelLoading",void 0),(0,Nt.gn)([(0,ut.yF)()],A.prototype,"nzKeyboard",void 0),(0,Nt.gn)([(0,ut.yF)()],A.prototype,"nzNoAnimation",void 0),(0,Nt.gn)([(0,ut.yF)()],A.prototype,"nzCentered",void 0),(0,Nt.gn)([(0,ut.yF)()],A.prototype,"nzOkDanger",void 0),A})(),L=(()=>{class A{static#t=this.\u0275fac=function(h){return new(h||A)};static#e=this.\u0275mod=a.oAB({type:A});static#n=this.\u0275inj=a.cJS({providers:[w],imports:[tt,b,R,k,f]})}return A})()}}]);